{"ast":null,"code":"/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.2.1\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nimport { Autowired, Bean, PostConstruct } from \"../context/context\";\nimport { Events } from \"../events\";\nimport { _ } from \"../utils\";\nimport { BeanStub } from \"../context/beanStub\";\n\nvar ValueService =\n/** @class */\nfunction (_super) {\n  __extends(ValueService, _super);\n\n  function ValueService() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.initialised = false;\n    return _this;\n  }\n\n  ValueService.prototype.init = function () {\n    this.cellExpressions = this.gridOptionsWrapper.isEnableCellExpressions();\n    this.initialised = true;\n  };\n\n  ValueService.prototype.getValue = function (column, rowNode, forFilter, ignoreAggData) {\n    if (forFilter === void 0) {\n      forFilter = false;\n    }\n\n    if (ignoreAggData === void 0) {\n      ignoreAggData = false;\n    } // hack - the grid is getting refreshed before this bean gets initialised, race condition.\n    // really should have a way so they get initialised in the right order???\n\n\n    if (!this.initialised) {\n      this.init();\n    }\n\n    if (!rowNode) {\n      return;\n    } // pull these out to make code below easier to read\n\n\n    var colDef = column.getColDef();\n    var field = colDef.field;\n    var colId = column.getId();\n    var data = rowNode.data;\n    var result; // if there is a value getter, this gets precedence over a field\n\n    var groupDataExists = rowNode.groupData && rowNode.groupData[colId] !== undefined;\n    var aggDataExists = !ignoreAggData && rowNode.aggData && rowNode.aggData[colId] !== undefined;\n\n    if (forFilter && colDef.filterValueGetter) {\n      result = this.executeFilterValueGetter(colDef.filterValueGetter, data, column, rowNode);\n    } else if (this.gridOptionsWrapper.isTreeData() && aggDataExists) {\n      result = rowNode.aggData[colId];\n    } else if (this.gridOptionsWrapper.isTreeData() && colDef.valueGetter) {\n      result = this.executeValueGetter(colDef.valueGetter, data, column, rowNode);\n    } else if (this.gridOptionsWrapper.isTreeData() && field && data) {\n      result = _.getValueUsingField(data, field, column.isFieldContainsDots());\n    } else if (groupDataExists) {\n      result = rowNode.groupData[colId];\n    } else if (aggDataExists) {\n      result = rowNode.aggData[colId];\n    } else if (colDef.valueGetter) {\n      result = this.executeValueGetter(colDef.valueGetter, data, column, rowNode);\n    } else if (field && data) {\n      result = _.getValueUsingField(data, field, column.isFieldContainsDots());\n    } // the result could be an expression itself, if we are allowing cell values to be expressions\n\n\n    if (this.cellExpressions && typeof result === 'string' && result.indexOf('=') === 0) {\n      var cellValueGetter = result.substring(1);\n      result = this.executeValueGetter(cellValueGetter, data, column, rowNode);\n    }\n\n    return result;\n  };\n\n  ValueService.prototype.setValue = function (rowNode, colKey, newValue, eventSource) {\n    var column = this.columnController.getPrimaryColumn(colKey);\n\n    if (!rowNode || !column) {\n      return;\n    } // this will only happen if user is trying to paste into a group row, which doesn't make sense\n    // the user should not be trying to paste into group rows\n\n\n    if (_.missing(rowNode.data)) {\n      rowNode.data = {};\n    } // for backwards compatibility we are also retrieving the newValueHandler as well as the valueSetter\n\n\n    var _a = column.getColDef(),\n        field = _a.field,\n        newValueHandler = _a.newValueHandler,\n        valueSetter = _a.valueSetter; // need either a field or a newValueHandler for this to work\n\n\n    if (_.missing(field) && _.missing(newValueHandler) && _.missing(valueSetter)) {\n      // we don't tell user about newValueHandler, as that is deprecated\n      console.warn(\"ag-Grid: you need either field or valueSetter set on colDef for editing to work\");\n      return;\n    }\n\n    var params = {\n      node: rowNode,\n      data: rowNode.data,\n      oldValue: this.getValue(column, rowNode),\n      newValue: newValue,\n      colDef: column.getColDef(),\n      column: column,\n      api: this.gridOptionsWrapper.getApi(),\n      columnApi: this.gridOptionsWrapper.getColumnApi(),\n      context: this.gridOptionsWrapper.getContext()\n    };\n    params.newValue = newValue;\n    var valueWasDifferent;\n\n    if (newValueHandler && _.exists(newValueHandler)) {\n      valueWasDifferent = newValueHandler(params);\n    } else if (_.exists(valueSetter)) {\n      valueWasDifferent = this.expressionService.evaluate(valueSetter, params);\n    } else {\n      valueWasDifferent = this.setValueUsingField(rowNode.data, field, newValue, column.isFieldContainsDots());\n    } // in case user forgot to return something (possible if they are not using TypeScript\n    // and just forgot, or using an old newValueHandler we didn't always expect a return\n    // value here), we default the return value to true, so we always refresh.\n\n\n    if (valueWasDifferent === undefined) {\n      valueWasDifferent = true;\n    } // if no change to the value, then no need to do the updating, or notifying via events.\n    // otherwise the user could be tabbing around the grid, and cellValueChange would get called\n    // all the time.\n\n\n    if (!valueWasDifferent) {\n      return;\n    } // reset quick filter on this row\n\n\n    rowNode.resetQuickFilterAggregateText();\n    this.valueCache.onDataChanged();\n    params.newValue = this.getValue(column, rowNode);\n    var onCellValueChanged = column.getColDef().onCellValueChanged;\n\n    if (typeof onCellValueChanged === 'function') {\n      // to make callback async, do in a timeout\n      setTimeout(function () {\n        return onCellValueChanged(params);\n      }, 0);\n    }\n\n    var event = {\n      type: Events.EVENT_CELL_VALUE_CHANGED,\n      event: null,\n      rowIndex: rowNode.rowIndex,\n      rowPinned: rowNode.rowPinned,\n      column: params.column,\n      api: params.api,\n      colDef: params.colDef,\n      columnApi: params.columnApi,\n      context: params.context,\n      data: rowNode.data,\n      node: rowNode,\n      oldValue: params.oldValue,\n      newValue: params.newValue,\n      value: params.newValue,\n      source: eventSource\n    };\n    this.eventService.dispatchEvent(event);\n  };\n\n  ValueService.prototype.setValueUsingField = function (data, field, newValue, isFieldContainsDots) {\n    if (!field) {\n      return false;\n    } // if no '.', then it's not a deep value\n\n\n    var valuesAreSame = false;\n\n    if (!isFieldContainsDots) {\n      data[field] = newValue;\n    } else {\n      // otherwise it is a deep value, so need to dig for it\n      var fieldPieces = field.split('.');\n      var currentObject = data;\n\n      while (fieldPieces.length > 0 && currentObject) {\n        var fieldPiece = fieldPieces.shift();\n\n        if (fieldPieces.length === 0) {\n          currentObject[fieldPiece] = newValue;\n        } else {\n          currentObject = currentObject[fieldPiece];\n        }\n      }\n    }\n\n    return !valuesAreSame;\n  };\n\n  ValueService.prototype.executeFilterValueGetter = function (valueGetter, data, column, rowNode) {\n    var params = {\n      data: data,\n      node: rowNode,\n      column: column,\n      colDef: column.getColDef(),\n      api: this.gridOptionsWrapper.getApi(),\n      columnApi: this.gridOptionsWrapper.getColumnApi(),\n      context: this.gridOptionsWrapper.getContext(),\n      getValue: this.getValueCallback.bind(this, rowNode)\n    };\n    return this.expressionService.evaluate(valueGetter, params);\n  };\n\n  ValueService.prototype.executeValueGetter = function (valueGetter, data, column, rowNode) {\n    var colId = column.getId(); // if inside the same turn, just return back the value we got last time\n\n    var valueFromCache = this.valueCache.getValue(rowNode, colId);\n\n    if (valueFromCache !== undefined) {\n      return valueFromCache;\n    }\n\n    var params = {\n      data: data,\n      node: rowNode,\n      column: column,\n      colDef: column.getColDef(),\n      api: this.gridOptionsWrapper.getApi(),\n      columnApi: this.gridOptionsWrapper.getColumnApi(),\n      context: this.gridOptionsWrapper.getContext(),\n      getValue: this.getValueCallback.bind(this, rowNode)\n    };\n    var result = this.expressionService.evaluate(valueGetter, params); // if a turn is active, store the value in case the grid asks for it again\n\n    this.valueCache.setValue(rowNode, colId, result);\n    return result;\n  };\n\n  ValueService.prototype.getValueCallback = function (node, field) {\n    var otherColumn = this.columnController.getPrimaryColumn(field);\n\n    if (otherColumn) {\n      return this.getValue(otherColumn, node);\n    }\n\n    return null;\n  }; // used by row grouping and pivot, to get key for a row. col can be a pivot col or a row grouping col\n\n\n  ValueService.prototype.getKeyForNode = function (col, rowNode) {\n    var value = this.getValue(col, rowNode);\n    var keyCreator = col.getColDef().keyCreator;\n    var result = keyCreator ? keyCreator({\n      value: value\n    }) : value; // if already a string, or missing, just return it\n\n    if (typeof result === 'string' || result == null) {\n      return result;\n    }\n\n    result = String(result);\n\n    if (result === '[object Object]') {\n      _.doOnce(function () {\n        console.warn('ag-Grid: a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se ag-Grid docs) or b) to toString() on the object to return a key');\n      }, 'getKeyForNode - warn about [object,object]');\n    }\n\n    return result;\n  };\n\n  __decorate([Autowired('gridOptionsWrapper')], ValueService.prototype, \"gridOptionsWrapper\", void 0);\n\n  __decorate([Autowired('expressionService')], ValueService.prototype, \"expressionService\", void 0);\n\n  __decorate([Autowired('columnController')], ValueService.prototype, \"columnController\", void 0);\n\n  __decorate([Autowired('valueCache')], ValueService.prototype, \"valueCache\", void 0);\n\n  __decorate([PostConstruct], ValueService.prototype, \"init\", null);\n\n  ValueService = __decorate([Bean('valueService')], ValueService);\n  return ValueService;\n}(BeanStub);\n\nexport { ValueService };","map":{"version":3,"sources":["/Users/fouaddakhel/Projects/Nana/ReactJS/supermarket_dashboard/supermarket_dashboard/node_modules/@ag-grid-community/core/dist/es6/valueService/valueService.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","Autowired","Bean","PostConstruct","Events","_","BeanStub","ValueService","_super","_this","apply","initialised","init","cellExpressions","gridOptionsWrapper","isEnableCellExpressions","getValue","column","rowNode","forFilter","ignoreAggData","colDef","getColDef","field","colId","getId","data","result","groupDataExists","groupData","undefined","aggDataExists","aggData","filterValueGetter","executeFilterValueGetter","isTreeData","valueGetter","executeValueGetter","getValueUsingField","isFieldContainsDots","indexOf","cellValueGetter","substring","setValue","colKey","newValue","eventSource","columnController","getPrimaryColumn","missing","_a","newValueHandler","valueSetter","console","warn","params","node","oldValue","api","getApi","columnApi","getColumnApi","context","getContext","valueWasDifferent","exists","expressionService","evaluate","setValueUsingField","resetQuickFilterAggregateText","valueCache","onDataChanged","onCellValueChanged","setTimeout","event","type","EVENT_CELL_VALUE_CHANGED","rowIndex","rowPinned","value","source","eventService","dispatchEvent","valuesAreSame","fieldPieces","split","currentObject","fieldPiece","shift","getValueCallback","bind","valueFromCache","otherColumn","getKeyForNode","col","keyCreator","String","doOnce"],"mappings":"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","sourcesContent":["/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.2.1\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Autowired, Bean, PostConstruct } from \"../context/context\";\nimport { Events } from \"../events\";\nimport { _ } from \"../utils\";\nimport { BeanStub } from \"../context/beanStub\";\nvar ValueService = /** @class */ (function (_super) {\n    __extends(ValueService, _super);\n    function ValueService() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.initialised = false;\n        return _this;\n    }\n    ValueService.prototype.init = function () {\n        this.cellExpressions = this.gridOptionsWrapper.isEnableCellExpressions();\n        this.initialised = true;\n    };\n    ValueService.prototype.getValue = function (column, rowNode, forFilter, ignoreAggData) {\n        if (forFilter === void 0) { forFilter = false; }\n        if (ignoreAggData === void 0) { ignoreAggData = false; }\n        // hack - the grid is getting refreshed before this bean gets initialised, race condition.\n        // really should have a way so they get initialised in the right order???\n        if (!this.initialised) {\n            this.init();\n        }\n        if (!rowNode) {\n            return;\n        }\n        // pull these out to make code below easier to read\n        var colDef = column.getColDef();\n        var field = colDef.field;\n        var colId = column.getId();\n        var data = rowNode.data;\n        var result;\n        // if there is a value getter, this gets precedence over a field\n        var groupDataExists = rowNode.groupData && rowNode.groupData[colId] !== undefined;\n        var aggDataExists = !ignoreAggData && rowNode.aggData && rowNode.aggData[colId] !== undefined;\n        if (forFilter && colDef.filterValueGetter) {\n            result = this.executeFilterValueGetter(colDef.filterValueGetter, data, column, rowNode);\n        }\n        else if (this.gridOptionsWrapper.isTreeData() && aggDataExists) {\n            result = rowNode.aggData[colId];\n        }\n        else if (this.gridOptionsWrapper.isTreeData() && colDef.valueGetter) {\n            result = this.executeValueGetter(colDef.valueGetter, data, column, rowNode);\n        }\n        else if (this.gridOptionsWrapper.isTreeData() && (field && data)) {\n            result = _.getValueUsingField(data, field, column.isFieldContainsDots());\n        }\n        else if (groupDataExists) {\n            result = rowNode.groupData[colId];\n        }\n        else if (aggDataExists) {\n            result = rowNode.aggData[colId];\n        }\n        else if (colDef.valueGetter) {\n            result = this.executeValueGetter(colDef.valueGetter, data, column, rowNode);\n        }\n        else if (field && data) {\n            result = _.getValueUsingField(data, field, column.isFieldContainsDots());\n        }\n        // the result could be an expression itself, if we are allowing cell values to be expressions\n        if (this.cellExpressions && (typeof result === 'string') && result.indexOf('=') === 0) {\n            var cellValueGetter = result.substring(1);\n            result = this.executeValueGetter(cellValueGetter, data, column, rowNode);\n        }\n        return result;\n    };\n    ValueService.prototype.setValue = function (rowNode, colKey, newValue, eventSource) {\n        var column = this.columnController.getPrimaryColumn(colKey);\n        if (!rowNode || !column) {\n            return;\n        }\n        // this will only happen if user is trying to paste into a group row, which doesn't make sense\n        // the user should not be trying to paste into group rows\n        if (_.missing(rowNode.data)) {\n            rowNode.data = {};\n        }\n        // for backwards compatibility we are also retrieving the newValueHandler as well as the valueSetter\n        var _a = column.getColDef(), field = _a.field, newValueHandler = _a.newValueHandler, valueSetter = _a.valueSetter;\n        // need either a field or a newValueHandler for this to work\n        if (_.missing(field) && _.missing(newValueHandler) && _.missing(valueSetter)) {\n            // we don't tell user about newValueHandler, as that is deprecated\n            console.warn(\"ag-Grid: you need either field or valueSetter set on colDef for editing to work\");\n            return;\n        }\n        var params = {\n            node: rowNode,\n            data: rowNode.data,\n            oldValue: this.getValue(column, rowNode),\n            newValue: newValue,\n            colDef: column.getColDef(),\n            column: column,\n            api: this.gridOptionsWrapper.getApi(),\n            columnApi: this.gridOptionsWrapper.getColumnApi(),\n            context: this.gridOptionsWrapper.getContext()\n        };\n        params.newValue = newValue;\n        var valueWasDifferent;\n        if (newValueHandler && _.exists(newValueHandler)) {\n            valueWasDifferent = newValueHandler(params);\n        }\n        else if (_.exists(valueSetter)) {\n            valueWasDifferent = this.expressionService.evaluate(valueSetter, params);\n        }\n        else {\n            valueWasDifferent = this.setValueUsingField(rowNode.data, field, newValue, column.isFieldContainsDots());\n        }\n        // in case user forgot to return something (possible if they are not using TypeScript\n        // and just forgot, or using an old newValueHandler we didn't always expect a return\n        // value here), we default the return value to true, so we always refresh.\n        if (valueWasDifferent === undefined) {\n            valueWasDifferent = true;\n        }\n        // if no change to the value, then no need to do the updating, or notifying via events.\n        // otherwise the user could be tabbing around the grid, and cellValueChange would get called\n        // all the time.\n        if (!valueWasDifferent) {\n            return;\n        }\n        // reset quick filter on this row\n        rowNode.resetQuickFilterAggregateText();\n        this.valueCache.onDataChanged();\n        params.newValue = this.getValue(column, rowNode);\n        var onCellValueChanged = column.getColDef().onCellValueChanged;\n        if (typeof onCellValueChanged === 'function') {\n            // to make callback async, do in a timeout\n            setTimeout(function () { return onCellValueChanged(params); }, 0);\n        }\n        var event = {\n            type: Events.EVENT_CELL_VALUE_CHANGED,\n            event: null,\n            rowIndex: rowNode.rowIndex,\n            rowPinned: rowNode.rowPinned,\n            column: params.column,\n            api: params.api,\n            colDef: params.colDef,\n            columnApi: params.columnApi,\n            context: params.context,\n            data: rowNode.data,\n            node: rowNode,\n            oldValue: params.oldValue,\n            newValue: params.newValue,\n            value: params.newValue,\n            source: eventSource\n        };\n        this.eventService.dispatchEvent(event);\n    };\n    ValueService.prototype.setValueUsingField = function (data, field, newValue, isFieldContainsDots) {\n        if (!field) {\n            return false;\n        }\n        // if no '.', then it's not a deep value\n        var valuesAreSame = false;\n        if (!isFieldContainsDots) {\n            data[field] = newValue;\n        }\n        else {\n            // otherwise it is a deep value, so need to dig for it\n            var fieldPieces = field.split('.');\n            var currentObject = data;\n            while (fieldPieces.length > 0 && currentObject) {\n                var fieldPiece = fieldPieces.shift();\n                if (fieldPieces.length === 0) {\n                    currentObject[fieldPiece] = newValue;\n                }\n                else {\n                    currentObject = currentObject[fieldPiece];\n                }\n            }\n        }\n        return !valuesAreSame;\n    };\n    ValueService.prototype.executeFilterValueGetter = function (valueGetter, data, column, rowNode) {\n        var params = {\n            data: data,\n            node: rowNode,\n            column: column,\n            colDef: column.getColDef(),\n            api: this.gridOptionsWrapper.getApi(),\n            columnApi: this.gridOptionsWrapper.getColumnApi(),\n            context: this.gridOptionsWrapper.getContext(),\n            getValue: this.getValueCallback.bind(this, rowNode)\n        };\n        return this.expressionService.evaluate(valueGetter, params);\n    };\n    ValueService.prototype.executeValueGetter = function (valueGetter, data, column, rowNode) {\n        var colId = column.getId();\n        // if inside the same turn, just return back the value we got last time\n        var valueFromCache = this.valueCache.getValue(rowNode, colId);\n        if (valueFromCache !== undefined) {\n            return valueFromCache;\n        }\n        var params = {\n            data: data,\n            node: rowNode,\n            column: column,\n            colDef: column.getColDef(),\n            api: this.gridOptionsWrapper.getApi(),\n            columnApi: this.gridOptionsWrapper.getColumnApi(),\n            context: this.gridOptionsWrapper.getContext(),\n            getValue: this.getValueCallback.bind(this, rowNode)\n        };\n        var result = this.expressionService.evaluate(valueGetter, params);\n        // if a turn is active, store the value in case the grid asks for it again\n        this.valueCache.setValue(rowNode, colId, result);\n        return result;\n    };\n    ValueService.prototype.getValueCallback = function (node, field) {\n        var otherColumn = this.columnController.getPrimaryColumn(field);\n        if (otherColumn) {\n            return this.getValue(otherColumn, node);\n        }\n        return null;\n    };\n    // used by row grouping and pivot, to get key for a row. col can be a pivot col or a row grouping col\n    ValueService.prototype.getKeyForNode = function (col, rowNode) {\n        var value = this.getValue(col, rowNode);\n        var keyCreator = col.getColDef().keyCreator;\n        var result = keyCreator ? keyCreator({ value: value }) : value;\n        // if already a string, or missing, just return it\n        if (typeof result === 'string' || result == null) {\n            return result;\n        }\n        result = String(result);\n        if (result === '[object Object]') {\n            _.doOnce(function () {\n                console.warn('ag-Grid: a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se ag-Grid docs) or b) to toString() on the object to return a key');\n            }, 'getKeyForNode - warn about [object,object]');\n        }\n        return result;\n    };\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], ValueService.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        Autowired('expressionService')\n    ], ValueService.prototype, \"expressionService\", void 0);\n    __decorate([\n        Autowired('columnController')\n    ], ValueService.prototype, \"columnController\", void 0);\n    __decorate([\n        Autowired('valueCache')\n    ], ValueService.prototype, \"valueCache\", void 0);\n    __decorate([\n        PostConstruct\n    ], ValueService.prototype, \"init\", null);\n    ValueService = __decorate([\n        Bean('valueService')\n    ], ValueService);\n    return ValueService;\n}(BeanStub));\nexport { ValueService };\n"]},"metadata":{},"sourceType":"module"}