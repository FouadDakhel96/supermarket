{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n    if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nimport { _, Autowired, Bean, BeanStub, Constants, Events, ModuleNames, ModuleRegistry, PostConstruct, Promise, TabbedLayout } from \"@ag-grid-community/core\";\nimport { MenuList } from \"./menuList\";\nimport { MenuItemComponent } from \"./menuItemComponent\";\nimport { PrimaryColsPanel } from \"@ag-grid-enterprise/column-tool-panel\";\n\nvar EnterpriseMenuFactory =\n/** @class */\nfunction (_super) {\n  __extends(EnterpriseMenuFactory, _super);\n\n  function EnterpriseMenuFactory() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  EnterpriseMenuFactory.prototype.hideActiveMenu = function () {\n    this.destroyBean(this.activeMenu);\n  };\n\n  EnterpriseMenuFactory.prototype.showMenuAfterMouseEvent = function (column, mouseEvent, defaultTab) {\n    var _this = this;\n\n    this.showMenu(column, function (menu) {\n      var ePopup = menu.getGui();\n\n      _this.popupService.positionPopupUnderMouseEvent({\n        type: 'columnMenu',\n        column: column,\n        mouseEvent: mouseEvent,\n        ePopup: ePopup\n      });\n\n      if (defaultTab) {\n        menu.showTab(defaultTab);\n      }\n    }, defaultTab, undefined, mouseEvent.target);\n  };\n\n  EnterpriseMenuFactory.prototype.showMenuAfterButtonClick = function (column, eventSource, defaultTab, restrictToTabs) {\n    var _this = this;\n\n    var multiplier = -1;\n    var alignSide = 'left';\n\n    if (this.gridOptionsWrapper.isEnableRtl()) {\n      multiplier = 1;\n      alignSide = 'right';\n    }\n\n    this.showMenu(column, function (menu) {\n      var minDims = menu.getMinDimensions();\n      var minWidth = minDims.width,\n          minHeight = minDims.height;\n      var ePopup = menu.getGui();\n\n      _this.popupService.positionPopupUnderComponent({\n        type: 'columnMenu',\n        column: column,\n        eventSource: eventSource,\n        ePopup: ePopup,\n        minWidth: minWidth,\n        minHeight: minHeight,\n        alignSide: alignSide,\n        nudgeX: 9 * multiplier,\n        nudgeY: -23,\n        keepWithinBounds: true\n      });\n\n      if (defaultTab) {\n        menu.showTab(defaultTab);\n      }\n    }, defaultTab, restrictToTabs, eventSource);\n  };\n\n  EnterpriseMenuFactory.prototype.showMenu = function (column, positionCallback, defaultTab, restrictToTabs, eventSource) {\n    var _this = this;\n\n    var menu = new EnterpriseMenu(column, this.lastSelectedTab, restrictToTabs);\n    this.createBean(menu);\n    var eMenuGui = menu.getGui(); // need to show filter before positioning, as only after filter\n    // is visible can we find out what the width of it is\n\n    var hidePopup = this.popupService.addAsModalPopup(eMenuGui, true, function (e) {\n      _this.destroyBean(menu);\n\n      column.setMenuVisible(false, \"contextMenu\");\n      var isKeyboardEvent = e instanceof KeyboardEvent;\n\n      if (isKeyboardEvent && eventSource && _.isVisible(eventSource)) {\n        var focusableEl = _this.focusController.findTabbableParent(eventSource);\n\n        if (focusableEl) {\n          focusableEl.focus();\n        }\n      }\n    });\n    menu.afterGuiAttached({\n      hidePopup: hidePopup\n    });\n    positionCallback(menu);\n\n    if (!defaultTab) {\n      menu.showTabBasedOnPreviousSelection();\n    }\n\n    menu.addEventListener(EnterpriseMenu.EVENT_TAB_SELECTED, function (event) {\n      _this.lastSelectedTab = event.key;\n    });\n    column.setMenuVisible(true, \"contextMenu\");\n    this.activeMenu = menu;\n    menu.addEventListener(BeanStub.EVENT_DESTROYED, function () {\n      if (_this.activeMenu === menu) {\n        _this.activeMenu = null;\n      }\n    });\n  };\n\n  EnterpriseMenuFactory.prototype.isMenuEnabled = function (column) {\n    return column.getMenuTabs(EnterpriseMenu.TABS_DEFAULT).length > 0;\n  };\n\n  __decorate([Autowired('popupService')], EnterpriseMenuFactory.prototype, \"popupService\", void 0);\n\n  __decorate([Autowired('gridOptionsWrapper')], EnterpriseMenuFactory.prototype, \"gridOptionsWrapper\", void 0);\n\n  __decorate([Autowired('focusController')], EnterpriseMenuFactory.prototype, \"focusController\", void 0);\n\n  EnterpriseMenuFactory = __decorate([Bean('menuFactory')], EnterpriseMenuFactory);\n  return EnterpriseMenuFactory;\n}(BeanStub);\n\nexport { EnterpriseMenuFactory };\n\nvar EnterpriseMenu =\n/** @class */\nfunction (_super) {\n  __extends(EnterpriseMenu, _super);\n\n  function EnterpriseMenu(column, initialSelection, restrictTo) {\n    var _this = _super.call(this) || this;\n\n    _this.tabFactories = {};\n    _this.includeChecks = {};\n    _this.timeOfLastColumnChange = Date.now();\n    _this.column = column;\n    _this.initialSelection = initialSelection;\n    _this.tabFactories[EnterpriseMenu.TAB_GENERAL] = _this.createMainPanel.bind(_this);\n    _this.tabFactories[EnterpriseMenu.TAB_FILTER] = _this.createFilterPanel.bind(_this);\n    _this.tabFactories[EnterpriseMenu.TAB_COLUMNS] = _this.createColumnsPanel.bind(_this);\n\n    _this.includeChecks[EnterpriseMenu.TAB_GENERAL] = function () {\n      return true;\n    };\n\n    _this.includeChecks[EnterpriseMenu.TAB_FILTER] = function () {\n      return column.isFilterAllowed();\n    };\n\n    _this.includeChecks[EnterpriseMenu.TAB_COLUMNS] = function () {\n      return true;\n    };\n\n    _this.restrictTo = restrictTo;\n    return _this;\n  }\n\n  EnterpriseMenu.prototype.getMinDimensions = function () {\n    return this.tabbedLayout.getMinDimensions();\n  };\n\n  EnterpriseMenu.prototype.init = function () {\n    var _this = this;\n\n    var tabs = this.getTabsToCreate().map(function (menuTabName) {\n      return _this.createTab(menuTabName);\n    });\n    this.tabbedLayout = new TabbedLayout({\n      items: tabs,\n      cssClass: 'ag-menu',\n      onActiveItemClicked: this.onHidePopup.bind(this),\n      onItemClicked: this.onTabItemClicked.bind(this)\n    });\n    this.createBean(this.tabbedLayout);\n\n    if (this.mainMenuList) {\n      this.mainMenuList.setParentComponent(this.tabbedLayout);\n    }\n\n    this.addManagedListener(this.eventService, Events.EVENT_DISPLAYED_COLUMNS_CHANGED, this.onDisplayedColumnsChanged.bind(this));\n  };\n\n  EnterpriseMenu.prototype.getTabsToCreate = function () {\n    var _this = this;\n\n    if (this.restrictTo) {\n      return this.restrictTo;\n    }\n\n    return this.column.getMenuTabs(EnterpriseMenu.TABS_DEFAULT).filter(function (tabName) {\n      return _this.isValidMenuTabItem(tabName);\n    }).filter(function (tabName) {\n      return _this.isNotSuppressed(tabName);\n    }).filter(function (tabName) {\n      return _this.isModuleLoaded(tabName);\n    });\n  };\n\n  EnterpriseMenu.prototype.isModuleLoaded = function (menuTabName) {\n    if (menuTabName === EnterpriseMenu.TAB_COLUMNS) {\n      return ModuleRegistry.isRegistered(ModuleNames.ColumnToolPanelModule);\n    }\n\n    return true;\n  };\n\n  EnterpriseMenu.prototype.isValidMenuTabItem = function (menuTabName) {\n    var isValid = true;\n    var itemsToConsider = EnterpriseMenu.TABS_DEFAULT;\n\n    if (this.restrictTo != null) {\n      isValid = this.restrictTo.indexOf(menuTabName) > -1;\n      itemsToConsider = this.restrictTo;\n    }\n\n    isValid = isValid && EnterpriseMenu.TABS_DEFAULT.indexOf(menuTabName) > -1;\n\n    if (!isValid) {\n      console.warn(\"Trying to render an invalid menu item '\" + menuTabName + \"'. Check that your 'menuTabs' contains one of [\" + itemsToConsider + \"]\");\n    }\n\n    return isValid;\n  };\n\n  EnterpriseMenu.prototype.isNotSuppressed = function (menuTabName) {\n    return this.includeChecks[menuTabName]();\n  };\n\n  EnterpriseMenu.prototype.createTab = function (name) {\n    return this.tabFactories[name]();\n  };\n\n  EnterpriseMenu.prototype.showTabBasedOnPreviousSelection = function () {\n    // show the tab the user was on last time they had a menu open\n    this.showTab(this.initialSelection);\n  };\n\n  EnterpriseMenu.prototype.showTab = function (toShow) {\n    if (this.tabItemColumns && toShow === EnterpriseMenu.TAB_COLUMNS) {\n      this.tabbedLayout.showItem(this.tabItemColumns);\n    } else if (this.tabItemFilter && toShow === EnterpriseMenu.TAB_FILTER) {\n      this.tabbedLayout.showItem(this.tabItemFilter);\n    } else if (this.tabItemGeneral && toShow === EnterpriseMenu.TAB_GENERAL) {\n      this.tabbedLayout.showItem(this.tabItemGeneral);\n    } else {\n      this.tabbedLayout.showFirstItem();\n    }\n  };\n\n  EnterpriseMenu.prototype.onTabItemClicked = function (event) {\n    var key = null;\n\n    switch (event.item) {\n      case this.tabItemColumns:\n        key = EnterpriseMenu.TAB_COLUMNS;\n        break;\n\n      case this.tabItemFilter:\n        key = EnterpriseMenu.TAB_FILTER;\n        break;\n\n      case this.tabItemGeneral:\n        key = EnterpriseMenu.TAB_GENERAL;\n        break;\n    }\n\n    if (key) {\n      this.activateTab(key);\n    }\n  };\n\n  EnterpriseMenu.prototype.activateTab = function (tab) {\n    var ev = {\n      type: EnterpriseMenu.EVENT_TAB_SELECTED,\n      key: tab\n    };\n    this.dispatchEvent(ev);\n  };\n\n  EnterpriseMenu.prototype.getMenuItems = function () {\n    var defaultMenuOptions = this.getDefaultMenuOptions();\n    var result;\n    var userFunc = this.gridOptionsWrapper.getMainMenuItemsFunc();\n\n    if (userFunc) {\n      var userOptions = userFunc({\n        column: this.column,\n        api: this.gridOptionsWrapper.getApi(),\n        columnApi: this.gridOptionsWrapper.getColumnApi(),\n        context: this.gridOptionsWrapper.getContext(),\n        defaultItems: defaultMenuOptions\n      });\n      result = userOptions;\n    } else {\n      result = defaultMenuOptions;\n    } // GUI looks weird when two separators are side by side. this can happen accidentally\n    // if we remove items from the menu then two separators can edit up adjacent.\n\n\n    _.removeRepeatsFromArray(result, EnterpriseMenu.MENU_ITEM_SEPARATOR);\n\n    return result;\n  };\n\n  EnterpriseMenu.prototype.getDefaultMenuOptions = function () {\n    var result = [];\n    var allowPinning = !this.column.getColDef().lockPinned;\n    var rowGroupCount = this.columnController.getRowGroupColumns().length;\n    var doingGrouping = rowGroupCount > 0;\n    var groupedByThisColumn = this.columnController.getRowGroupColumns().indexOf(this.column) >= 0;\n    var allowValue = this.column.isAllowValue();\n    var allowRowGroup = this.column.isAllowRowGroup();\n    var isPrimary = this.column.isPrimary();\n    var pivotModeOn = this.columnController.isPivotMode();\n    var isInMemoryRowModel = this.rowModel.getType() === Constants.ROW_MODEL_TYPE_CLIENT_SIDE;\n    var usingTreeData = this.gridOptionsWrapper.isTreeData();\n    var allowValueAgg = // if primary, then only allow aggValue if grouping and it's a value columns\n    isPrimary && doingGrouping && allowValue || // secondary columns can always have aggValue, as it means it's a pivot value column\n    !isPrimary;\n\n    if (allowPinning) {\n      result.push('pinSubMenu');\n    }\n\n    if (allowValueAgg) {\n      result.push('valueAggSubMenu');\n    }\n\n    if (allowPinning || allowValueAgg) {\n      result.push(EnterpriseMenu.MENU_ITEM_SEPARATOR);\n    }\n\n    result.push('autoSizeThis');\n    result.push('autoSizeAll');\n    result.push(EnterpriseMenu.MENU_ITEM_SEPARATOR);\n\n    if (allowRowGroup && this.column.isPrimary()) {\n      if (groupedByThisColumn) {\n        result.push('rowUnGroup');\n      } else {\n        result.push('rowGroup');\n      }\n    }\n\n    result.push(EnterpriseMenu.MENU_ITEM_SEPARATOR);\n    result.push('resetColumns'); // only add grouping expand/collapse if grouping in the InMemoryRowModel\n    // if pivoting, we only have expandable groups if grouping by 2 or more columns\n    // as the lowest level group is not expandable while pivoting.\n    // if not pivoting, then any active row group can be expanded.\n\n    var allowExpandAndContract = false;\n\n    if (isInMemoryRowModel) {\n      if (usingTreeData) {\n        allowExpandAndContract = true;\n      } else {\n        allowExpandAndContract = pivotModeOn ? rowGroupCount > 1 : rowGroupCount > 0;\n      }\n    }\n\n    if (allowExpandAndContract) {\n      result.push('expandAll');\n      result.push('contractAll');\n    }\n\n    return result;\n  };\n\n  EnterpriseMenu.prototype.createMainPanel = function () {\n    this.mainMenuList = new MenuList();\n    this.createManagedBean(this.mainMenuList);\n    var menuItems = this.getMenuItems();\n    var menuItemsMapped = this.menuItemMapper.mapWithStockItems(menuItems, this.column);\n    this.mainMenuList.addMenuItems(menuItemsMapped);\n    this.mainMenuList.addEventListener(MenuItemComponent.EVENT_ITEM_SELECTED, this.onHidePopup.bind(this));\n    this.tabItemGeneral = {\n      title: _.createIconNoSpan('menu', this.gridOptionsWrapper, this.column),\n      titleLabel: EnterpriseMenu.TAB_GENERAL.replace('MenuTab', ''),\n      bodyPromise: Promise.resolve(this.mainMenuList.getGui()),\n      name: EnterpriseMenu.TAB_GENERAL\n    };\n    return this.tabItemGeneral;\n  };\n\n  EnterpriseMenu.prototype.onHidePopup = function () {\n    this.hidePopupFunc(); // this method only gets called when the menu was closed by selection an option\n    // in this case we highlight the cell that was previously highlighted\n\n    var focusedCell = this.focusController.getFocusedCell();\n\n    if (focusedCell) {\n      var rowIndex = focusedCell.rowIndex,\n          rowPinned = focusedCell.rowPinned,\n          column = focusedCell.column;\n      this.focusController.setFocusedCell(rowIndex, column, rowPinned, true);\n    }\n  };\n\n  EnterpriseMenu.prototype.createFilterPanel = function () {\n    var filterWrapper = this.filterManager.getOrCreateFilterWrapper(this.column, 'COLUMN_MENU');\n    var afterFilterAttachedCallback = null; // slightly odd block this - this promise will always have been resolved by the time it gets here, so won't be\n    // async (_unless_ in react or similar, but if so why not encountered before now?).\n    // I'd suggest a future improvement would be to remove/replace this promise as this block just wont work if it is\n    // async and is confusing if you don't have this context\n\n    if (filterWrapper.filterPromise) {\n      filterWrapper.filterPromise.then(function (filter) {\n        if (filter.afterGuiAttached) {\n          afterFilterAttachedCallback = filter.afterGuiAttached.bind(filter);\n        }\n      });\n    }\n\n    this.tabItemFilter = {\n      title: _.createIconNoSpan('filter', this.gridOptionsWrapper, this.column),\n      titleLabel: EnterpriseMenu.TAB_FILTER.replace('MenuTab', ''),\n      bodyPromise: filterWrapper.guiPromise,\n      afterAttachedCallback: afterFilterAttachedCallback,\n      name: EnterpriseMenu.TAB_FILTER\n    };\n    return this.tabItemFilter;\n  };\n\n  EnterpriseMenu.prototype.createColumnsPanel = function () {\n    var eWrapperDiv = document.createElement('div');\n\n    _.addCssClass(eWrapperDiv, 'ag-menu-column-select-wrapper');\n\n    this.columnSelectPanel = this.createManagedBean(new PrimaryColsPanel());\n    this.columnSelectPanel.init(false, {\n      suppressValues: false,\n      suppressPivots: false,\n      suppressRowGroups: false,\n      suppressPivotMode: false,\n      contractColumnSelection: false,\n      suppressColumnExpandAll: false,\n      suppressColumnFilter: false,\n      suppressColumnSelectAll: false,\n      suppressSideButtons: false,\n      suppressSyncLayoutWithGrid: false,\n      api: this.gridApi,\n      columnApi: this.columnApi\n    });\n\n    _.addCssClass(this.columnSelectPanel.getGui(), 'ag-menu-column-select');\n\n    eWrapperDiv.appendChild(this.columnSelectPanel.getGui());\n    this.tabItemColumns = {\n      title: _.createIconNoSpan('columns', this.gridOptionsWrapper, this.column),\n      titleLabel: EnterpriseMenu.TAB_COLUMNS.replace('MenuTab', ''),\n      bodyPromise: Promise.resolve(eWrapperDiv),\n      name: EnterpriseMenu.TAB_COLUMNS\n    };\n    return this.tabItemColumns;\n  };\n\n  EnterpriseMenu.prototype.afterGuiAttached = function (params) {\n    var _this = this;\n\n    this.tabbedLayout.setAfterAttachedParams({\n      hidePopup: params.hidePopup\n    });\n    this.hidePopupFunc = params.hidePopup;\n    var initialScroll = this.gridApi.getHorizontalPixelRange().left; // if the user scrolls the grid horizontally, we want to hide the menu, as the menu will not appear in the right location anymore\n\n    var onBodyScroll = function onBodyScroll(event) {\n      // If the user hides columns using the columns tab in this menu, it will change the size of the\n      // grid content and lead to a bodyScroll event. But we don't want to hide the menu for that kind\n      // of indirect scrolling. Assume that any bodyScroll that happens right after a column change is\n      // caused by that change, and ignore it.\n      var msSinceLastColumnChange = Date.now() - _this.timeOfLastColumnChange;\n\n      if (msSinceLastColumnChange < 500) {\n        return;\n      } // if h scroll, popup is no longer over the column\n\n\n      if (event.direction === 'horizontal') {\n        var newScroll = _this.gridApi.getHorizontalPixelRange().left;\n\n        if (Math.abs(newScroll - initialScroll) > _this.gridOptionsWrapper.getScrollbarWidth()) {\n          params.hidePopup();\n        }\n      }\n    };\n\n    this.addDestroyFunc(params.hidePopup);\n    this.addManagedListener(this.eventService, 'bodyScroll', onBodyScroll);\n  };\n\n  EnterpriseMenu.prototype.getGui = function () {\n    return this.tabbedLayout.getGui();\n  };\n\n  EnterpriseMenu.prototype.onDisplayedColumnsChanged = function () {\n    this.timeOfLastColumnChange = Date.now();\n  };\n\n  EnterpriseMenu.EVENT_TAB_SELECTED = 'tabSelected';\n  EnterpriseMenu.TAB_FILTER = 'filterMenuTab';\n  EnterpriseMenu.TAB_GENERAL = 'generalMenuTab';\n  EnterpriseMenu.TAB_COLUMNS = 'columnsMenuTab';\n  EnterpriseMenu.TABS_DEFAULT = [EnterpriseMenu.TAB_GENERAL, EnterpriseMenu.TAB_FILTER, EnterpriseMenu.TAB_COLUMNS];\n  EnterpriseMenu.MENU_ITEM_SEPARATOR = 'separator';\n\n  __decorate([Autowired('columnController')], EnterpriseMenu.prototype, \"columnController\", void 0);\n\n  __decorate([Autowired('filterManager')], EnterpriseMenu.prototype, \"filterManager\", void 0);\n\n  __decorate([Autowired('gridApi')], EnterpriseMenu.prototype, \"gridApi\", void 0);\n\n  __decorate([Autowired('columnApi')], EnterpriseMenu.prototype, \"columnApi\", void 0);\n\n  __decorate([Autowired('gridOptionsWrapper')], EnterpriseMenu.prototype, \"gridOptionsWrapper\", void 0);\n\n  __decorate([Autowired('menuItemMapper')], EnterpriseMenu.prototype, \"menuItemMapper\", void 0);\n\n  __decorate([Autowired('rowModel')], EnterpriseMenu.prototype, \"rowModel\", void 0);\n\n  __decorate([Autowired('focusController')], EnterpriseMenu.prototype, \"focusController\", void 0);\n\n  __decorate([PostConstruct], EnterpriseMenu.prototype, \"init\", null);\n\n  return EnterpriseMenu;\n}(BeanStub);\n\nexport { EnterpriseMenu };","map":{"version":3,"sources":["/Users/fouaddakhel/Projects/Nana/ReactJS/supermarket_dashboard/supermarket_dashboard/node_modules/@ag-grid-enterprise/menu/dist/es6/menu/enterpriseMenu.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","_","Autowired","Bean","BeanStub","Constants","Events","ModuleNames","ModuleRegistry","PostConstruct","Promise","TabbedLayout","MenuList","MenuItemComponent","PrimaryColsPanel","EnterpriseMenuFactory","_super","apply","hideActiveMenu","destroyBean","activeMenu","showMenuAfterMouseEvent","column","mouseEvent","defaultTab","_this","showMenu","menu","ePopup","getGui","popupService","positionPopupUnderMouseEvent","type","showTab","undefined","showMenuAfterButtonClick","eventSource","restrictToTabs","multiplier","alignSide","gridOptionsWrapper","isEnableRtl","minDims","getMinDimensions","minWidth","width","minHeight","height","positionPopupUnderComponent","nudgeX","nudgeY","keepWithinBounds","positionCallback","EnterpriseMenu","lastSelectedTab","createBean","eMenuGui","hidePopup","addAsModalPopup","e","setMenuVisible","isKeyboardEvent","KeyboardEvent","isVisible","focusableEl","focusController","findTabbableParent","focus","afterGuiAttached","showTabBasedOnPreviousSelection","addEventListener","EVENT_TAB_SELECTED","event","EVENT_DESTROYED","isMenuEnabled","getMenuTabs","TABS_DEFAULT","initialSelection","restrictTo","call","tabFactories","includeChecks","timeOfLastColumnChange","Date","now","TAB_GENERAL","createMainPanel","bind","TAB_FILTER","createFilterPanel","TAB_COLUMNS","createColumnsPanel","isFilterAllowed","tabbedLayout","init","tabs","getTabsToCreate","map","menuTabName","createTab","items","cssClass","onActiveItemClicked","onHidePopup","onItemClicked","onTabItemClicked","mainMenuList","setParentComponent","addManagedListener","eventService","EVENT_DISPLAYED_COLUMNS_CHANGED","onDisplayedColumnsChanged","filter","tabName","isValidMenuTabItem","isNotSuppressed","isModuleLoaded","isRegistered","ColumnToolPanelModule","isValid","itemsToConsider","indexOf","console","warn","name","toShow","tabItemColumns","showItem","tabItemFilter","tabItemGeneral","showFirstItem","item","activateTab","tab","ev","dispatchEvent","getMenuItems","defaultMenuOptions","getDefaultMenuOptions","result","userFunc","getMainMenuItemsFunc","userOptions","api","getApi","columnApi","getColumnApi","context","getContext","defaultItems","removeRepeatsFromArray","MENU_ITEM_SEPARATOR","allowPinning","getColDef","lockPinned","rowGroupCount","columnController","getRowGroupColumns","doingGrouping","groupedByThisColumn","allowValue","isAllowValue","allowRowGroup","isAllowRowGroup","isPrimary","pivotModeOn","isPivotMode","isInMemoryRowModel","rowModel","getType","ROW_MODEL_TYPE_CLIENT_SIDE","usingTreeData","isTreeData","allowValueAgg","push","allowExpandAndContract","createManagedBean","menuItems","menuItemsMapped","menuItemMapper","mapWithStockItems","addMenuItems","EVENT_ITEM_SELECTED","title","createIconNoSpan","titleLabel","replace","bodyPromise","resolve","hidePopupFunc","focusedCell","getFocusedCell","rowIndex","rowPinned","setFocusedCell","filterWrapper","filterManager","getOrCreateFilterWrapper","afterFilterAttachedCallback","filterPromise","then","guiPromise","afterAttachedCallback","eWrapperDiv","document","createElement","addCssClass","columnSelectPanel","suppressValues","suppressPivots","suppressRowGroups","suppressPivotMode","contractColumnSelection","suppressColumnExpandAll","suppressColumnFilter","suppressColumnSelectAll","suppressSideButtons","suppressSyncLayoutWithGrid","gridApi","appendChild","params","setAfterAttachedParams","initialScroll","getHorizontalPixelRange","left","onBodyScroll","msSinceLastColumnChange","direction","newScroll","Math","abs","getScrollbarWidth","addDestroyFunc"],"mappings":"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","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { _, Autowired, Bean, BeanStub, Constants, Events, ModuleNames, ModuleRegistry, PostConstruct, Promise, TabbedLayout } from \"@ag-grid-community/core\";\nimport { MenuList } from \"./menuList\";\nimport { MenuItemComponent } from \"./menuItemComponent\";\nimport { PrimaryColsPanel } from \"@ag-grid-enterprise/column-tool-panel\";\nvar EnterpriseMenuFactory = /** @class */ (function (_super) {\n    __extends(EnterpriseMenuFactory, _super);\n    function EnterpriseMenuFactory() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    EnterpriseMenuFactory.prototype.hideActiveMenu = function () {\n        this.destroyBean(this.activeMenu);\n    };\n    EnterpriseMenuFactory.prototype.showMenuAfterMouseEvent = function (column, mouseEvent, defaultTab) {\n        var _this = this;\n        this.showMenu(column, function (menu) {\n            var ePopup = menu.getGui();\n            _this.popupService.positionPopupUnderMouseEvent({\n                type: 'columnMenu',\n                column: column,\n                mouseEvent: mouseEvent,\n                ePopup: ePopup\n            });\n            if (defaultTab) {\n                menu.showTab(defaultTab);\n            }\n        }, defaultTab, undefined, mouseEvent.target);\n    };\n    EnterpriseMenuFactory.prototype.showMenuAfterButtonClick = function (column, eventSource, defaultTab, restrictToTabs) {\n        var _this = this;\n        var multiplier = -1;\n        var alignSide = 'left';\n        if (this.gridOptionsWrapper.isEnableRtl()) {\n            multiplier = 1;\n            alignSide = 'right';\n        }\n        this.showMenu(column, function (menu) {\n            var minDims = menu.getMinDimensions();\n            var minWidth = minDims.width, minHeight = minDims.height;\n            var ePopup = menu.getGui();\n            _this.popupService.positionPopupUnderComponent({\n                type: 'columnMenu',\n                column: column,\n                eventSource: eventSource,\n                ePopup: ePopup,\n                minWidth: minWidth,\n                minHeight: minHeight,\n                alignSide: alignSide,\n                nudgeX: 9 * multiplier,\n                nudgeY: -23,\n                keepWithinBounds: true\n            });\n            if (defaultTab) {\n                menu.showTab(defaultTab);\n            }\n        }, defaultTab, restrictToTabs, eventSource);\n    };\n    EnterpriseMenuFactory.prototype.showMenu = function (column, positionCallback, defaultTab, restrictToTabs, eventSource) {\n        var _this = this;\n        var menu = new EnterpriseMenu(column, this.lastSelectedTab, restrictToTabs);\n        this.createBean(menu);\n        var eMenuGui = menu.getGui();\n        // need to show filter before positioning, as only after filter\n        // is visible can we find out what the width of it is\n        var hidePopup = this.popupService.addAsModalPopup(eMenuGui, true, function (e) {\n            _this.destroyBean(menu);\n            column.setMenuVisible(false, \"contextMenu\");\n            var isKeyboardEvent = e instanceof KeyboardEvent;\n            if (isKeyboardEvent && eventSource && _.isVisible(eventSource)) {\n                var focusableEl = _this.focusController.findTabbableParent(eventSource);\n                if (focusableEl) {\n                    focusableEl.focus();\n                }\n            }\n        });\n        menu.afterGuiAttached({\n            hidePopup: hidePopup\n        });\n        positionCallback(menu);\n        if (!defaultTab) {\n            menu.showTabBasedOnPreviousSelection();\n        }\n        menu.addEventListener(EnterpriseMenu.EVENT_TAB_SELECTED, function (event) {\n            _this.lastSelectedTab = event.key;\n        });\n        column.setMenuVisible(true, \"contextMenu\");\n        this.activeMenu = menu;\n        menu.addEventListener(BeanStub.EVENT_DESTROYED, function () {\n            if (_this.activeMenu === menu) {\n                _this.activeMenu = null;\n            }\n        });\n    };\n    EnterpriseMenuFactory.prototype.isMenuEnabled = function (column) {\n        return column.getMenuTabs(EnterpriseMenu.TABS_DEFAULT).length > 0;\n    };\n    __decorate([\n        Autowired('popupService')\n    ], EnterpriseMenuFactory.prototype, \"popupService\", void 0);\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], EnterpriseMenuFactory.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        Autowired('focusController')\n    ], EnterpriseMenuFactory.prototype, \"focusController\", void 0);\n    EnterpriseMenuFactory = __decorate([\n        Bean('menuFactory')\n    ], EnterpriseMenuFactory);\n    return EnterpriseMenuFactory;\n}(BeanStub));\nexport { EnterpriseMenuFactory };\nvar EnterpriseMenu = /** @class */ (function (_super) {\n    __extends(EnterpriseMenu, _super);\n    function EnterpriseMenu(column, initialSelection, restrictTo) {\n        var _this = _super.call(this) || this;\n        _this.tabFactories = {};\n        _this.includeChecks = {};\n        _this.timeOfLastColumnChange = Date.now();\n        _this.column = column;\n        _this.initialSelection = initialSelection;\n        _this.tabFactories[EnterpriseMenu.TAB_GENERAL] = _this.createMainPanel.bind(_this);\n        _this.tabFactories[EnterpriseMenu.TAB_FILTER] = _this.createFilterPanel.bind(_this);\n        _this.tabFactories[EnterpriseMenu.TAB_COLUMNS] = _this.createColumnsPanel.bind(_this);\n        _this.includeChecks[EnterpriseMenu.TAB_GENERAL] = function () { return true; };\n        _this.includeChecks[EnterpriseMenu.TAB_FILTER] = function () { return column.isFilterAllowed(); };\n        _this.includeChecks[EnterpriseMenu.TAB_COLUMNS] = function () { return true; };\n        _this.restrictTo = restrictTo;\n        return _this;\n    }\n    EnterpriseMenu.prototype.getMinDimensions = function () {\n        return this.tabbedLayout.getMinDimensions();\n    };\n    EnterpriseMenu.prototype.init = function () {\n        var _this = this;\n        var tabs = this.getTabsToCreate()\n            .map(function (menuTabName) { return _this.createTab(menuTabName); });\n        this.tabbedLayout = new TabbedLayout({\n            items: tabs,\n            cssClass: 'ag-menu',\n            onActiveItemClicked: this.onHidePopup.bind(this),\n            onItemClicked: this.onTabItemClicked.bind(this)\n        });\n        this.createBean(this.tabbedLayout);\n        if (this.mainMenuList) {\n            this.mainMenuList.setParentComponent(this.tabbedLayout);\n        }\n        this.addManagedListener(this.eventService, Events.EVENT_DISPLAYED_COLUMNS_CHANGED, this.onDisplayedColumnsChanged.bind(this));\n    };\n    EnterpriseMenu.prototype.getTabsToCreate = function () {\n        var _this = this;\n        if (this.restrictTo) {\n            return this.restrictTo;\n        }\n        return this.column.getMenuTabs(EnterpriseMenu.TABS_DEFAULT)\n            .filter(function (tabName) { return _this.isValidMenuTabItem(tabName); })\n            .filter(function (tabName) { return _this.isNotSuppressed(tabName); })\n            .filter(function (tabName) { return _this.isModuleLoaded(tabName); });\n    };\n    EnterpriseMenu.prototype.isModuleLoaded = function (menuTabName) {\n        if (menuTabName === EnterpriseMenu.TAB_COLUMNS) {\n            return ModuleRegistry.isRegistered(ModuleNames.ColumnToolPanelModule);\n        }\n        return true;\n    };\n    EnterpriseMenu.prototype.isValidMenuTabItem = function (menuTabName) {\n        var isValid = true;\n        var itemsToConsider = EnterpriseMenu.TABS_DEFAULT;\n        if (this.restrictTo != null) {\n            isValid = this.restrictTo.indexOf(menuTabName) > -1;\n            itemsToConsider = this.restrictTo;\n        }\n        isValid = isValid && EnterpriseMenu.TABS_DEFAULT.indexOf(menuTabName) > -1;\n        if (!isValid) {\n            console.warn(\"Trying to render an invalid menu item '\" + menuTabName + \"'. Check that your 'menuTabs' contains one of [\" + itemsToConsider + \"]\");\n        }\n        return isValid;\n    };\n    EnterpriseMenu.prototype.isNotSuppressed = function (menuTabName) {\n        return this.includeChecks[menuTabName]();\n    };\n    EnterpriseMenu.prototype.createTab = function (name) {\n        return this.tabFactories[name]();\n    };\n    EnterpriseMenu.prototype.showTabBasedOnPreviousSelection = function () {\n        // show the tab the user was on last time they had a menu open\n        this.showTab(this.initialSelection);\n    };\n    EnterpriseMenu.prototype.showTab = function (toShow) {\n        if (this.tabItemColumns && toShow === EnterpriseMenu.TAB_COLUMNS) {\n            this.tabbedLayout.showItem(this.tabItemColumns);\n        }\n        else if (this.tabItemFilter && toShow === EnterpriseMenu.TAB_FILTER) {\n            this.tabbedLayout.showItem(this.tabItemFilter);\n        }\n        else if (this.tabItemGeneral && toShow === EnterpriseMenu.TAB_GENERAL) {\n            this.tabbedLayout.showItem(this.tabItemGeneral);\n        }\n        else {\n            this.tabbedLayout.showFirstItem();\n        }\n    };\n    EnterpriseMenu.prototype.onTabItemClicked = function (event) {\n        var key = null;\n        switch (event.item) {\n            case this.tabItemColumns:\n                key = EnterpriseMenu.TAB_COLUMNS;\n                break;\n            case this.tabItemFilter:\n                key = EnterpriseMenu.TAB_FILTER;\n                break;\n            case this.tabItemGeneral:\n                key = EnterpriseMenu.TAB_GENERAL;\n                break;\n        }\n        if (key) {\n            this.activateTab(key);\n        }\n    };\n    EnterpriseMenu.prototype.activateTab = function (tab) {\n        var ev = {\n            type: EnterpriseMenu.EVENT_TAB_SELECTED,\n            key: tab\n        };\n        this.dispatchEvent(ev);\n    };\n    EnterpriseMenu.prototype.getMenuItems = function () {\n        var defaultMenuOptions = this.getDefaultMenuOptions();\n        var result;\n        var userFunc = this.gridOptionsWrapper.getMainMenuItemsFunc();\n        if (userFunc) {\n            var userOptions = userFunc({\n                column: this.column,\n                api: this.gridOptionsWrapper.getApi(),\n                columnApi: this.gridOptionsWrapper.getColumnApi(),\n                context: this.gridOptionsWrapper.getContext(),\n                defaultItems: defaultMenuOptions\n            });\n            result = userOptions;\n        }\n        else {\n            result = defaultMenuOptions;\n        }\n        // GUI looks weird when two separators are side by side. this can happen accidentally\n        // if we remove items from the menu then two separators can edit up adjacent.\n        _.removeRepeatsFromArray(result, EnterpriseMenu.MENU_ITEM_SEPARATOR);\n        return result;\n    };\n    EnterpriseMenu.prototype.getDefaultMenuOptions = function () {\n        var result = [];\n        var allowPinning = !this.column.getColDef().lockPinned;\n        var rowGroupCount = this.columnController.getRowGroupColumns().length;\n        var doingGrouping = rowGroupCount > 0;\n        var groupedByThisColumn = this.columnController.getRowGroupColumns().indexOf(this.column) >= 0;\n        var allowValue = this.column.isAllowValue();\n        var allowRowGroup = this.column.isAllowRowGroup();\n        var isPrimary = this.column.isPrimary();\n        var pivotModeOn = this.columnController.isPivotMode();\n        var isInMemoryRowModel = this.rowModel.getType() === Constants.ROW_MODEL_TYPE_CLIENT_SIDE;\n        var usingTreeData = this.gridOptionsWrapper.isTreeData();\n        var allowValueAgg = \n        // if primary, then only allow aggValue if grouping and it's a value columns\n        (isPrimary && doingGrouping && allowValue)\n            // secondary columns can always have aggValue, as it means it's a pivot value column\n            || !isPrimary;\n        if (allowPinning) {\n            result.push('pinSubMenu');\n        }\n        if (allowValueAgg) {\n            result.push('valueAggSubMenu');\n        }\n        if (allowPinning || allowValueAgg) {\n            result.push(EnterpriseMenu.MENU_ITEM_SEPARATOR);\n        }\n        result.push('autoSizeThis');\n        result.push('autoSizeAll');\n        result.push(EnterpriseMenu.MENU_ITEM_SEPARATOR);\n        if (allowRowGroup && this.column.isPrimary()) {\n            if (groupedByThisColumn) {\n                result.push('rowUnGroup');\n            }\n            else {\n                result.push('rowGroup');\n            }\n        }\n        result.push(EnterpriseMenu.MENU_ITEM_SEPARATOR);\n        result.push('resetColumns');\n        // only add grouping expand/collapse if grouping in the InMemoryRowModel\n        // if pivoting, we only have expandable groups if grouping by 2 or more columns\n        // as the lowest level group is not expandable while pivoting.\n        // if not pivoting, then any active row group can be expanded.\n        var allowExpandAndContract = false;\n        if (isInMemoryRowModel) {\n            if (usingTreeData) {\n                allowExpandAndContract = true;\n            }\n            else {\n                allowExpandAndContract = pivotModeOn ? rowGroupCount > 1 : rowGroupCount > 0;\n            }\n        }\n        if (allowExpandAndContract) {\n            result.push('expandAll');\n            result.push('contractAll');\n        }\n        return result;\n    };\n    EnterpriseMenu.prototype.createMainPanel = function () {\n        this.mainMenuList = new MenuList();\n        this.createManagedBean(this.mainMenuList);\n        var menuItems = this.getMenuItems();\n        var menuItemsMapped = this.menuItemMapper.mapWithStockItems(menuItems, this.column);\n        this.mainMenuList.addMenuItems(menuItemsMapped);\n        this.mainMenuList.addEventListener(MenuItemComponent.EVENT_ITEM_SELECTED, this.onHidePopup.bind(this));\n        this.tabItemGeneral = {\n            title: _.createIconNoSpan('menu', this.gridOptionsWrapper, this.column),\n            titleLabel: EnterpriseMenu.TAB_GENERAL.replace('MenuTab', ''),\n            bodyPromise: Promise.resolve(this.mainMenuList.getGui()),\n            name: EnterpriseMenu.TAB_GENERAL\n        };\n        return this.tabItemGeneral;\n    };\n    EnterpriseMenu.prototype.onHidePopup = function () {\n        this.hidePopupFunc();\n        // this method only gets called when the menu was closed by selection an option\n        // in this case we highlight the cell that was previously highlighted\n        var focusedCell = this.focusController.getFocusedCell();\n        if (focusedCell) {\n            var rowIndex = focusedCell.rowIndex, rowPinned = focusedCell.rowPinned, column = focusedCell.column;\n            this.focusController.setFocusedCell(rowIndex, column, rowPinned, true);\n        }\n    };\n    EnterpriseMenu.prototype.createFilterPanel = function () {\n        var filterWrapper = this.filterManager.getOrCreateFilterWrapper(this.column, 'COLUMN_MENU');\n        var afterFilterAttachedCallback = null;\n        // slightly odd block this - this promise will always have been resolved by the time it gets here, so won't be\n        // async (_unless_ in react or similar, but if so why not encountered before now?).\n        // I'd suggest a future improvement would be to remove/replace this promise as this block just wont work if it is\n        // async and is confusing if you don't have this context\n        if (filterWrapper.filterPromise) {\n            filterWrapper.filterPromise.then(function (filter) {\n                if (filter.afterGuiAttached) {\n                    afterFilterAttachedCallback = filter.afterGuiAttached.bind(filter);\n                }\n            });\n        }\n        this.tabItemFilter = {\n            title: _.createIconNoSpan('filter', this.gridOptionsWrapper, this.column),\n            titleLabel: EnterpriseMenu.TAB_FILTER.replace('MenuTab', ''),\n            bodyPromise: filterWrapper.guiPromise,\n            afterAttachedCallback: afterFilterAttachedCallback,\n            name: EnterpriseMenu.TAB_FILTER\n        };\n        return this.tabItemFilter;\n    };\n    EnterpriseMenu.prototype.createColumnsPanel = function () {\n        var eWrapperDiv = document.createElement('div');\n        _.addCssClass(eWrapperDiv, 'ag-menu-column-select-wrapper');\n        this.columnSelectPanel = this.createManagedBean(new PrimaryColsPanel());\n        this.columnSelectPanel.init(false, {\n            suppressValues: false,\n            suppressPivots: false,\n            suppressRowGroups: false,\n            suppressPivotMode: false,\n            contractColumnSelection: false,\n            suppressColumnExpandAll: false,\n            suppressColumnFilter: false,\n            suppressColumnSelectAll: false,\n            suppressSideButtons: false,\n            suppressSyncLayoutWithGrid: false,\n            api: this.gridApi,\n            columnApi: this.columnApi\n        });\n        _.addCssClass(this.columnSelectPanel.getGui(), 'ag-menu-column-select');\n        eWrapperDiv.appendChild(this.columnSelectPanel.getGui());\n        this.tabItemColumns = {\n            title: _.createIconNoSpan('columns', this.gridOptionsWrapper, this.column),\n            titleLabel: EnterpriseMenu.TAB_COLUMNS.replace('MenuTab', ''),\n            bodyPromise: Promise.resolve(eWrapperDiv),\n            name: EnterpriseMenu.TAB_COLUMNS\n        };\n        return this.tabItemColumns;\n    };\n    EnterpriseMenu.prototype.afterGuiAttached = function (params) {\n        var _this = this;\n        this.tabbedLayout.setAfterAttachedParams({ hidePopup: params.hidePopup });\n        this.hidePopupFunc = params.hidePopup;\n        var initialScroll = this.gridApi.getHorizontalPixelRange().left;\n        // if the user scrolls the grid horizontally, we want to hide the menu, as the menu will not appear in the right location anymore\n        var onBodyScroll = function (event) {\n            // If the user hides columns using the columns tab in this menu, it will change the size of the\n            // grid content and lead to a bodyScroll event. But we don't want to hide the menu for that kind\n            // of indirect scrolling. Assume that any bodyScroll that happens right after a column change is\n            // caused by that change, and ignore it.\n            var msSinceLastColumnChange = Date.now() - _this.timeOfLastColumnChange;\n            if (msSinceLastColumnChange < 500) {\n                return;\n            }\n            // if h scroll, popup is no longer over the column\n            if (event.direction === 'horizontal') {\n                var newScroll = _this.gridApi.getHorizontalPixelRange().left;\n                if (Math.abs(newScroll - initialScroll) > _this.gridOptionsWrapper.getScrollbarWidth()) {\n                    params.hidePopup();\n                }\n            }\n        };\n        this.addDestroyFunc(params.hidePopup);\n        this.addManagedListener(this.eventService, 'bodyScroll', onBodyScroll);\n    };\n    EnterpriseMenu.prototype.getGui = function () {\n        return this.tabbedLayout.getGui();\n    };\n    EnterpriseMenu.prototype.onDisplayedColumnsChanged = function () {\n        this.timeOfLastColumnChange = Date.now();\n    };\n    EnterpriseMenu.EVENT_TAB_SELECTED = 'tabSelected';\n    EnterpriseMenu.TAB_FILTER = 'filterMenuTab';\n    EnterpriseMenu.TAB_GENERAL = 'generalMenuTab';\n    EnterpriseMenu.TAB_COLUMNS = 'columnsMenuTab';\n    EnterpriseMenu.TABS_DEFAULT = [EnterpriseMenu.TAB_GENERAL, EnterpriseMenu.TAB_FILTER, EnterpriseMenu.TAB_COLUMNS];\n    EnterpriseMenu.MENU_ITEM_SEPARATOR = 'separator';\n    __decorate([\n        Autowired('columnController')\n    ], EnterpriseMenu.prototype, \"columnController\", void 0);\n    __decorate([\n        Autowired('filterManager')\n    ], EnterpriseMenu.prototype, \"filterManager\", void 0);\n    __decorate([\n        Autowired('gridApi')\n    ], EnterpriseMenu.prototype, \"gridApi\", void 0);\n    __decorate([\n        Autowired('columnApi')\n    ], EnterpriseMenu.prototype, \"columnApi\", void 0);\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], EnterpriseMenu.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        Autowired('menuItemMapper')\n    ], EnterpriseMenu.prototype, \"menuItemMapper\", void 0);\n    __decorate([\n        Autowired('rowModel')\n    ], EnterpriseMenu.prototype, \"rowModel\", void 0);\n    __decorate([\n        Autowired('focusController')\n    ], EnterpriseMenu.prototype, \"focusController\", void 0);\n    __decorate([\n        PostConstruct\n    ], EnterpriseMenu.prototype, \"init\", null);\n    return EnterpriseMenu;\n}(BeanStub));\nexport { EnterpriseMenu };\n"]},"metadata":{},"sourceType":"module"}