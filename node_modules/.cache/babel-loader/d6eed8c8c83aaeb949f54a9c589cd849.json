{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport { ChartBuilder } from \"ag-charts-community\";\nimport { PolarChartProxy } from \"./polarChartProxy\";\n\nvar PieChartProxy =\n/** @class */\nfunction (_super) {\n  __extends(PieChartProxy, _super);\n\n  function PieChartProxy(params) {\n    var _this = _super.call(this, params) || this;\n\n    _this.initChartOptions();\n\n    _this.recreateChart();\n\n    return _this;\n  }\n\n  PieChartProxy.prototype.createChart = function (options) {\n    return ChartBuilder.createPieChart(this.chartProxyParams.parentElement, options || this.chartOptions);\n  };\n\n  PieChartProxy.prototype.update = function (params) {\n    var chart = this.chart;\n\n    if (params.fields.length === 0) {\n      chart.removeAllSeries();\n      return;\n    }\n\n    var existingSeries = chart.series[0];\n    var existingSeriesId = existingSeries && existingSeries.angleKey;\n    var pieSeriesField = params.fields[0];\n\n    var _a = this.getPalette(),\n        fills = _a.fills,\n        strokes = _a.strokes;\n\n    var seriesDefaults = this.chartOptions.seriesDefaults;\n    var pieSeries = existingSeries;\n    var calloutColors = seriesDefaults.callout && seriesDefaults.callout.colors;\n\n    if (existingSeriesId !== pieSeriesField.colId) {\n      chart.removeSeries(existingSeries);\n\n      var seriesOptions = __assign(__assign({}, seriesDefaults), {\n        type: \"pie\",\n        field: {\n          angleKey: pieSeriesField.colId\n        },\n        title: __assign(__assign({}, seriesDefaults.title), {\n          text: seriesDefaults.title.text || params.fields[0].displayName\n        })\n      });\n\n      pieSeries = ChartBuilder.createSeries(seriesOptions);\n    }\n\n    pieSeries.angleName = pieSeriesField.displayName;\n    pieSeries.labelKey = params.category.id;\n    pieSeries.labelName = params.category.name;\n    pieSeries.data = params.data;\n    pieSeries.fills = fills;\n    pieSeries.strokes = strokes;\n\n    if (calloutColors) {\n      pieSeries.callout.colors = calloutColors;\n    }\n\n    chart.addSeries(pieSeries);\n  };\n\n  PieChartProxy.prototype.getDefaultOptions = function () {\n    var strokes = this.getPredefinedPalette().strokes;\n    var options = this.getDefaultChartOptions();\n    var fontOptions = this.getDefaultFontOptions();\n    options.seriesDefaults = __assign(__assign({}, options.seriesDefaults), {\n      title: __assign(__assign({}, fontOptions), {\n        enabled: false,\n        fontSize: 12,\n        fontWeight: 'bold'\n      }),\n      callout: {\n        colors: strokes,\n        length: 10,\n        strokeWidth: 2\n      },\n      label: __assign(__assign({}, fontOptions), {\n        enabled: false,\n        offset: 3,\n        minRequiredAngle: 0\n      }),\n      tooltip: {\n        enabled: true\n      },\n      shadow: this.getDefaultDropShadowOptions()\n    });\n    return options;\n  };\n\n  return PieChartProxy;\n}(PolarChartProxy);\n\nexport { PieChartProxy };","map":{"version":3,"sources":["/Users/fouaddakhel/Projects/Nana/ReactJS/supermarket_dashboard/supermarket_dashboard/node_modules/@ag-grid-enterprise/charts/dist/es6/chartAdaptor/chartComp/chartProxies/polar/pieChartProxy.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","apply","ChartBuilder","PolarChartProxy","PieChartProxy","_super","params","_this","initChartOptions","recreateChart","createChart","options","createPieChart","chartProxyParams","parentElement","chartOptions","update","chart","fields","removeAllSeries","existingSeries","series","existingSeriesId","angleKey","pieSeriesField","_a","getPalette","fills","strokes","seriesDefaults","pieSeries","calloutColors","callout","colors","colId","removeSeries","seriesOptions","type","field","title","text","displayName","createSeries","angleName","labelKey","category","id","labelName","name","data","addSeries","getDefaultOptions","getPredefinedPalette","getDefaultChartOptions","fontOptions","getDefaultFontOptions","enabled","fontSize","fontWeight","strokeWidth","label","offset","minRequiredAngle","tooltip","shadow","getDefaultDropShadowOptions"],"mappings":"AAAA,IAAIA,SAAS,GAAI,QAAQ,KAAKA,SAAd,IAA6B,YAAY;AACrD,MAAIC,aAAa,GAAG,UAAUC,CAAV,EAAaC,CAAb,EAAgB;AAChCF,IAAAA,aAAa,GAAGG,MAAM,CAACC,cAAP,IACX;AAAEC,MAAAA,SAAS,EAAE;AAAb,iBAA6BC,KAA7B,IAAsC,UAAUL,CAAV,EAAaC,CAAb,EAAgB;AAAED,MAAAA,CAAC,CAACI,SAAF,GAAcH,CAAd;AAAkB,KAD/D,IAEZ,UAAUD,CAAV,EAAaC,CAAb,EAAgB;AAAE,WAAK,IAAIK,CAAT,IAAcL,CAAd,EAAiB,IAAIA,CAAC,CAACM,cAAF,CAAiBD,CAAjB,CAAJ,EAAyBN,CAAC,CAACM,CAAD,CAAD,GAAOL,CAAC,CAACK,CAAD,CAAR;AAAc,KAF9E;;AAGA,WAAOP,aAAa,CAACC,CAAD,EAAIC,CAAJ,CAApB;AACH,GALD;;AAMA,SAAO,UAAUD,CAAV,EAAaC,CAAb,EAAgB;AACnBF,IAAAA,aAAa,CAACC,CAAD,EAAIC,CAAJ,CAAb;;AACA,aAASO,EAAT,GAAc;AAAE,WAAKC,WAAL,GAAmBT,CAAnB;AAAuB;;AACvCA,IAAAA,CAAC,CAACU,SAAF,GAAcT,CAAC,KAAK,IAAN,GAAaC,MAAM,CAACS,MAAP,CAAcV,CAAd,CAAb,IAAiCO,EAAE,CAACE,SAAH,GAAeT,CAAC,CAACS,SAAjB,EAA4B,IAAIF,EAAJ,EAA7D,CAAd;AACH,GAJD;AAKH,CAZ2C,EAA5C;;AAaA,IAAII,QAAQ,GAAI,QAAQ,KAAKA,QAAd,IAA2B,YAAY;AAClDA,EAAAA,QAAQ,GAAGV,MAAM,CAACW,MAAP,IAAiB,UAASC,CAAT,EAAY;AACpC,SAAK,IAAIC,CAAJ,EAAOC,CAAC,GAAG,CAAX,EAAcC,CAAC,GAAGC,SAAS,CAACC,MAAjC,EAAyCH,CAAC,GAAGC,CAA7C,EAAgDD,CAAC,EAAjD,EAAqD;AACjDD,MAAAA,CAAC,GAAGG,SAAS,CAACF,CAAD,CAAb;;AACA,WAAK,IAAIV,CAAT,IAAcS,CAAd,EAAiB,IAAIb,MAAM,CAACQ,SAAP,CAAiBH,cAAjB,CAAgCa,IAAhC,CAAqCL,CAArC,EAAwCT,CAAxC,CAAJ,EACbQ,CAAC,CAACR,CAAD,CAAD,GAAOS,CAAC,CAACT,CAAD,CAAR;AACP;;AACD,WAAOQ,CAAP;AACH,GAPD;;AAQA,SAAOF,QAAQ,CAACS,KAAT,CAAe,IAAf,EAAqBH,SAArB,CAAP;AACH,CAVD;;AAWA,SAASI,YAAT,QAA6B,qBAA7B;AACA,SAASC,eAAT,QAAgC,mBAAhC;;AACA,IAAIC,aAAa;AAAG;AAAe,UAAUC,MAAV,EAAkB;AACjD3B,EAAAA,SAAS,CAAC0B,aAAD,EAAgBC,MAAhB,CAAT;;AACA,WAASD,aAAT,CAAuBE,MAAvB,EAA+B;AAC3B,QAAIC,KAAK,GAAGF,MAAM,CAACL,IAAP,CAAY,IAAZ,EAAkBM,MAAlB,KAA6B,IAAzC;;AACAC,IAAAA,KAAK,CAACC,gBAAN;;AACAD,IAAAA,KAAK,CAACE,aAAN;;AACA,WAAOF,KAAP;AACH;;AACDH,EAAAA,aAAa,CAACd,SAAd,CAAwBoB,WAAxB,GAAsC,UAAUC,OAAV,EAAmB;AACrD,WAAOT,YAAY,CAACU,cAAb,CAA4B,KAAKC,gBAAL,CAAsBC,aAAlD,EAAiEH,OAAO,IAAI,KAAKI,YAAjF,CAAP;AACH,GAFD;;AAGAX,EAAAA,aAAa,CAACd,SAAd,CAAwB0B,MAAxB,GAAiC,UAAUV,MAAV,EAAkB;AAC/C,QAAIW,KAAK,GAAG,KAAKA,KAAjB;;AACA,QAAIX,MAAM,CAACY,MAAP,CAAcnB,MAAd,KAAyB,CAA7B,EAAgC;AAC5BkB,MAAAA,KAAK,CAACE,eAAN;AACA;AACH;;AACD,QAAIC,cAAc,GAAGH,KAAK,CAACI,MAAN,CAAa,CAAb,CAArB;AACA,QAAIC,gBAAgB,GAAGF,cAAc,IAAIA,cAAc,CAACG,QAAxD;AACA,QAAIC,cAAc,GAAGlB,MAAM,CAACY,MAAP,CAAc,CAAd,CAArB;;AACA,QAAIO,EAAE,GAAG,KAAKC,UAAL,EAAT;AAAA,QAA4BC,KAAK,GAAGF,EAAE,CAACE,KAAvC;AAAA,QAA8CC,OAAO,GAAGH,EAAE,CAACG,OAA3D;;AACA,QAAIC,cAAc,GAAG,KAAKd,YAAL,CAAkBc,cAAvC;AACA,QAAIC,SAAS,GAAGV,cAAhB;AACA,QAAIW,aAAa,GAAGF,cAAc,CAACG,OAAf,IAA0BH,cAAc,CAACG,OAAf,CAAuBC,MAArE;;AACA,QAAIX,gBAAgB,KAAKE,cAAc,CAACU,KAAxC,EAA+C;AAC3CjB,MAAAA,KAAK,CAACkB,YAAN,CAAmBf,cAAnB;;AACA,UAAIgB,aAAa,GAAG5C,QAAQ,CAACA,QAAQ,CAAC,EAAD,EAAKqC,cAAL,CAAT,EAA+B;AAAEQ,QAAAA,IAAI,EAAE,KAAR;AAAeC,QAAAA,KAAK,EAAE;AACzEf,UAAAA,QAAQ,EAAEC,cAAc,CAACU;AADgD,SAAtB;AAEpDK,QAAAA,KAAK,EAAE/C,QAAQ,CAACA,QAAQ,CAAC,EAAD,EAAKqC,cAAc,CAACU,KAApB,CAAT,EAAqC;AAAEC,UAAAA,IAAI,EAAEX,cAAc,CAACU,KAAf,CAAqBC,IAArB,IAA6BlC,MAAM,CAACY,MAAP,CAAc,CAAd,EAAiBuB;AAAtD,SAArC;AAFqC,OAA/B,CAA5B;;AAGAX,MAAAA,SAAS,GAAG5B,YAAY,CAACwC,YAAb,CAA0BN,aAA1B,CAAZ;AACH;;AACDN,IAAAA,SAAS,CAACa,SAAV,GAAsBnB,cAAc,CAACiB,WAArC;AACAX,IAAAA,SAAS,CAACc,QAAV,GAAqBtC,MAAM,CAACuC,QAAP,CAAgBC,EAArC;AACAhB,IAAAA,SAAS,CAACiB,SAAV,GAAsBzC,MAAM,CAACuC,QAAP,CAAgBG,IAAtC;AACAlB,IAAAA,SAAS,CAACmB,IAAV,GAAiB3C,MAAM,CAAC2C,IAAxB;AACAnB,IAAAA,SAAS,CAACH,KAAV,GAAkBA,KAAlB;AACAG,IAAAA,SAAS,CAACF,OAAV,GAAoBA,OAApB;;AACA,QAAIG,aAAJ,EAAmB;AACfD,MAAAA,SAAS,CAACE,OAAV,CAAkBC,MAAlB,GAA2BF,aAA3B;AACH;;AACDd,IAAAA,KAAK,CAACiC,SAAN,CAAgBpB,SAAhB;AACH,GA9BD;;AA+BA1B,EAAAA,aAAa,CAACd,SAAd,CAAwB6D,iBAAxB,GAA4C,YAAY;AACpD,QAAIvB,OAAO,GAAG,KAAKwB,oBAAL,GAA4BxB,OAA1C;AACA,QAAIjB,OAAO,GAAG,KAAK0C,sBAAL,EAAd;AACA,QAAIC,WAAW,GAAG,KAAKC,qBAAL,EAAlB;AACA5C,IAAAA,OAAO,CAACkB,cAAR,GAAyBrC,QAAQ,CAACA,QAAQ,CAAC,EAAD,EAAKmB,OAAO,CAACkB,cAAb,CAAT,EAAuC;AAAEU,MAAAA,KAAK,EAAE/C,QAAQ,CAACA,QAAQ,CAAC,EAAD,EAAK8D,WAAL,CAAT,EAA4B;AAAEE,QAAAA,OAAO,EAAE,KAAX;AAAkBC,QAAAA,QAAQ,EAAE,EAA5B;AAAgCC,QAAAA,UAAU,EAAE;AAA5C,OAA5B,CAAjB;AAAoG1B,MAAAA,OAAO,EAAE;AAC7KC,QAAAA,MAAM,EAAEL,OADqK;AAE7K7B,QAAAA,MAAM,EAAE,EAFqK;AAG7K4D,QAAAA,WAAW,EAAE;AAHgK,OAA7G;AAIjEC,MAAAA,KAAK,EAAEpE,QAAQ,CAACA,QAAQ,CAAC,EAAD,EAAK8D,WAAL,CAAT,EAA4B;AAAEE,QAAAA,OAAO,EAAE,KAAX;AAAkBK,QAAAA,MAAM,EAAE,CAA1B;AAA6BC,QAAAA,gBAAgB,EAAE;AAA/C,OAA5B,CAJkD;AAI+BC,MAAAA,OAAO,EAAE;AACxGP,QAAAA,OAAO,EAAE;AAD+F,OAJxC;AAMjEQ,MAAAA,MAAM,EAAE,KAAKC,2BAAL;AANyD,KAAvC,CAAjC;AAOA,WAAOtD,OAAP;AACH,GAZD;;AAaA,SAAOP,aAAP;AACH,CAxDkC,CAwDjCD,eAxDiC,CAAnC;;AAyDA,SAASC,aAAT","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { ChartBuilder } from \"ag-charts-community\";\nimport { PolarChartProxy } from \"./polarChartProxy\";\nvar PieChartProxy = /** @class */ (function (_super) {\n    __extends(PieChartProxy, _super);\n    function PieChartProxy(params) {\n        var _this = _super.call(this, params) || this;\n        _this.initChartOptions();\n        _this.recreateChart();\n        return _this;\n    }\n    PieChartProxy.prototype.createChart = function (options) {\n        return ChartBuilder.createPieChart(this.chartProxyParams.parentElement, options || this.chartOptions);\n    };\n    PieChartProxy.prototype.update = function (params) {\n        var chart = this.chart;\n        if (params.fields.length === 0) {\n            chart.removeAllSeries();\n            return;\n        }\n        var existingSeries = chart.series[0];\n        var existingSeriesId = existingSeries && existingSeries.angleKey;\n        var pieSeriesField = params.fields[0];\n        var _a = this.getPalette(), fills = _a.fills, strokes = _a.strokes;\n        var seriesDefaults = this.chartOptions.seriesDefaults;\n        var pieSeries = existingSeries;\n        var calloutColors = seriesDefaults.callout && seriesDefaults.callout.colors;\n        if (existingSeriesId !== pieSeriesField.colId) {\n            chart.removeSeries(existingSeries);\n            var seriesOptions = __assign(__assign({}, seriesDefaults), { type: \"pie\", field: {\n                    angleKey: pieSeriesField.colId,\n                }, title: __assign(__assign({}, seriesDefaults.title), { text: seriesDefaults.title.text || params.fields[0].displayName }) });\n            pieSeries = ChartBuilder.createSeries(seriesOptions);\n        }\n        pieSeries.angleName = pieSeriesField.displayName;\n        pieSeries.labelKey = params.category.id;\n        pieSeries.labelName = params.category.name;\n        pieSeries.data = params.data;\n        pieSeries.fills = fills;\n        pieSeries.strokes = strokes;\n        if (calloutColors) {\n            pieSeries.callout.colors = calloutColors;\n        }\n        chart.addSeries(pieSeries);\n    };\n    PieChartProxy.prototype.getDefaultOptions = function () {\n        var strokes = this.getPredefinedPalette().strokes;\n        var options = this.getDefaultChartOptions();\n        var fontOptions = this.getDefaultFontOptions();\n        options.seriesDefaults = __assign(__assign({}, options.seriesDefaults), { title: __assign(__assign({}, fontOptions), { enabled: false, fontSize: 12, fontWeight: 'bold' }), callout: {\n                colors: strokes,\n                length: 10,\n                strokeWidth: 2,\n            }, label: __assign(__assign({}, fontOptions), { enabled: false, offset: 3, minRequiredAngle: 0 }), tooltip: {\n                enabled: true,\n            }, shadow: this.getDefaultDropShadowOptions() });\n        return options;\n    };\n    return PieChartProxy;\n}(PolarChartProxy));\nexport { PieChartProxy };\n"]},"metadata":{},"sourceType":"module"}