{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nimport { _, AgGroupComponent, Autowired, Column, Component, Events, OriginalColumnGroup, PostConstruct, PreConstruct, RefSelector } from \"@ag-grid-community/core\";\nimport { ToolPanelFilterComp } from \"./toolPanelFilterComp\";\n\nvar ToolPanelFilterGroupComp =\n/** @class */\nfunction (_super) {\n  __extends(ToolPanelFilterGroupComp, _super);\n\n  function ToolPanelFilterGroupComp(columnGroup, childFilterComps, expandedCallback, depth) {\n    var _this = _super.call(this) || this;\n\n    _this.columnGroup = columnGroup;\n    _this.childFilterComps = childFilterComps;\n    _this.depth = depth;\n    _this.expandedCallback = expandedCallback;\n    return _this;\n  }\n\n  ToolPanelFilterGroupComp.prototype.preConstruct = function () {\n    var groupParams = {\n      cssIdentifier: 'filter-toolpanel',\n      direction: 'vertical'\n    };\n    this.setTemplate(ToolPanelFilterGroupComp.TEMPLATE, {\n      filterGroupComp: groupParams\n    });\n  };\n\n  ToolPanelFilterGroupComp.prototype.init = function () {\n    var _this = this;\n\n    this.setGroupTitle();\n    this.filterGroupComp.setAlignItems('stretch');\n\n    _.addCssClass(this.filterGroupComp.getGui(), \"ag-filter-toolpanel-group-level-\" + this.depth);\n\n    this.filterGroupComp.addCssClassToTitleBar(\"ag-filter-toolpanel-group-level-\" + this.depth + \"-header\");\n    this.childFilterComps.forEach(function (filterComp) {\n      _this.filterGroupComp.addItem(filterComp);\n\n      filterComp.addCssClassToTitleBar(\"ag-filter-toolpanel-group-level-\" + (_this.depth + 1) + \"-header\");\n    });\n    this.addExpandCollapseListeners();\n    this.addFilterChangedListeners();\n  };\n\n  ToolPanelFilterGroupComp.prototype.addCssClassToTitleBar = function (cssClass) {\n    this.filterGroupComp.addCssClassToTitleBar(cssClass);\n  };\n\n  ToolPanelFilterGroupComp.prototype.refreshFilters = function () {\n    this.childFilterComps.forEach(function (filterComp) {\n      if (filterComp instanceof ToolPanelFilterGroupComp) {\n        filterComp.refreshFilters();\n      } else {\n        filterComp.refreshFilter();\n      }\n    });\n  };\n\n  ToolPanelFilterGroupComp.prototype.isColumnGroup = function () {\n    return this.columnGroup instanceof OriginalColumnGroup;\n  };\n\n  ToolPanelFilterGroupComp.prototype.isExpanded = function () {\n    return this.filterGroupComp.isExpanded();\n  };\n\n  ToolPanelFilterGroupComp.prototype.getChildren = function () {\n    return this.childFilterComps;\n  };\n\n  ToolPanelFilterGroupComp.prototype.getFilterGroupName = function () {\n    return this.filterGroupName ? this.filterGroupName : '';\n  };\n\n  ToolPanelFilterGroupComp.prototype.getFilterGroupId = function () {\n    return this.columnGroup.getId();\n  };\n\n  ToolPanelFilterGroupComp.prototype.hideGroupItem = function (hide, index) {\n    this.filterGroupComp.hideItem(hide, index);\n  };\n\n  ToolPanelFilterGroupComp.prototype.hideGroup = function (hide) {\n    _.addOrRemoveCssClass(this.getGui(), 'ag-hidden', hide);\n  };\n\n  ToolPanelFilterGroupComp.prototype.forEachToolPanelFilterChild = function (action) {\n    _.forEach(this.childFilterComps, function (filterComp) {\n      if (filterComp instanceof ToolPanelFilterComp) {\n        action(filterComp);\n      }\n    });\n  };\n\n  ToolPanelFilterGroupComp.prototype.addExpandCollapseListeners = function () {\n    var _this = this;\n\n    var expandListener = this.isColumnGroup() ? function () {\n      return _this.expandedCallback();\n    } : function () {\n      return _this.forEachToolPanelFilterChild(function (filterComp) {\n        return filterComp.expand();\n      });\n    };\n    var collapseListener = this.isColumnGroup() ? function () {\n      return _this.expandedCallback();\n    } : function () {\n      return _this.forEachToolPanelFilterChild(function (filterComp) {\n        return filterComp.collapse();\n      });\n    };\n    this.addManagedListener(this.filterGroupComp, AgGroupComponent.EVENT_EXPANDED, expandListener);\n    this.addManagedListener(this.filterGroupComp, AgGroupComponent.EVENT_COLLAPSED, collapseListener);\n  };\n\n  ToolPanelFilterGroupComp.prototype.addFilterChangedListeners = function () {\n    var _this = this;\n\n    if (this.columnGroup instanceof OriginalColumnGroup) {\n      var group_1 = this.columnGroup;\n\n      var anyChildFiltersActive_1 = function () {\n        return group_1.getLeafColumns().some(function (col) {\n          return col.isFilterActive();\n        });\n      };\n\n      group_1.getLeafColumns().forEach(function (column) {\n        _this.addManagedListener(column, Column.EVENT_FILTER_CHANGED, function () {\n          _.addOrRemoveCssClass(_this.filterGroupComp.getGui(), 'ag-has-filter', anyChildFiltersActive_1());\n        });\n      });\n    } else {\n      var column_1 = this.columnGroup;\n      this.addManagedListener(this.eventService, Events.EVENT_FILTER_OPENED, this.onFilterOpened.bind(this));\n      this.addManagedListener(column_1, Column.EVENT_FILTER_CHANGED, function () {\n        _.addOrRemoveCssClass(_this.filterGroupComp.getGui(), 'ag-has-filter', column_1.isFilterActive());\n      });\n    }\n  };\n\n  ToolPanelFilterGroupComp.prototype.onFilterOpened = function (event) {\n    // when a filter is opened elsewhere, i.e. column menu we close the filter comp so we also need to collapse\n    // the column group. This approach means we don't need to try and sync filter models on the same column.\n    if (event.source !== 'COLUMN_MENU') {\n      return;\n    }\n\n    if (event.column !== this.columnGroup) {\n      return;\n    }\n\n    if (!this.isExpanded()) {\n      return;\n    }\n\n    this.collapse();\n  };\n\n  ToolPanelFilterGroupComp.prototype.expand = function () {\n    this.filterGroupComp.toggleGroupExpand(true);\n  };\n\n  ToolPanelFilterGroupComp.prototype.collapse = function () {\n    this.filterGroupComp.toggleGroupExpand(false);\n  };\n\n  ToolPanelFilterGroupComp.prototype.setGroupTitle = function () {\n    this.filterGroupName = this.columnGroup instanceof OriginalColumnGroup ? this.getColumnGroupName(this.columnGroup) : this.getColumnName(this.columnGroup);\n    this.filterGroupComp.setTitle(this.filterGroupName);\n  };\n\n  ToolPanelFilterGroupComp.prototype.getColumnGroupName = function (columnGroup) {\n    return this.columnController.getDisplayNameForOriginalColumnGroup(null, columnGroup, 'toolPanel');\n  };\n\n  ToolPanelFilterGroupComp.prototype.getColumnName = function (column) {\n    return this.columnController.getDisplayNameForColumn(column, 'header', false);\n  };\n\n  ToolPanelFilterGroupComp.prototype.destroyFilters = function () {\n    this.childFilterComps = this.destroyBeans(this.childFilterComps);\n\n    _.clearElement(this.getGui());\n  };\n\n  ToolPanelFilterGroupComp.prototype.destroy = function () {\n    this.destroyFilters();\n\n    _super.prototype.destroy.call(this);\n  };\n\n  ToolPanelFilterGroupComp.TEMPLATE = \"<div class=\\\"ag-filter-toolpanel-group-wrapper\\\">\\n            <ag-group-component ref=\\\"filterGroupComp\\\"></ag-group-component>\\n        </div>\";\n\n  __decorate([RefSelector('filterGroupComp')], ToolPanelFilterGroupComp.prototype, \"filterGroupComp\", void 0);\n\n  __decorate([Autowired('columnController')], ToolPanelFilterGroupComp.prototype, \"columnController\", void 0);\n\n  __decorate([PreConstruct], ToolPanelFilterGroupComp.prototype, \"preConstruct\", null);\n\n  __decorate([PostConstruct], ToolPanelFilterGroupComp.prototype, \"init\", null);\n\n  return ToolPanelFilterGroupComp;\n}(Component);\n\nexport { ToolPanelFilterGroupComp };","map":{"version":3,"sources":["/Users/fouaddakhel/Projects/Nana/ReactJS/supermarket_dashboard/supermarket_dashboard/node_modules/@ag-grid-enterprise/filter-tool-panel/dist/es6/filterToolPanel/toolPanelFilterGroupComp.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","_","AgGroupComponent","Autowired","Column","Component","Events","OriginalColumnGroup","PostConstruct","PreConstruct","RefSelector","ToolPanelFilterComp","ToolPanelFilterGroupComp","_super","columnGroup","childFilterComps","expandedCallback","depth","_this","call","preConstruct","groupParams","cssIdentifier","direction","setTemplate","TEMPLATE","filterGroupComp","init","setGroupTitle","setAlignItems","addCssClass","getGui","addCssClassToTitleBar","forEach","filterComp","addItem","addExpandCollapseListeners","addFilterChangedListeners","cssClass","refreshFilters","refreshFilter","isColumnGroup","isExpanded","getChildren","getFilterGroupName","filterGroupName","getFilterGroupId","getId","hideGroupItem","hide","index","hideItem","hideGroup","addOrRemoveCssClass","forEachToolPanelFilterChild","action","expandListener","expand","collapseListener","collapse","addManagedListener","EVENT_EXPANDED","EVENT_COLLAPSED","group_1","anyChildFiltersActive_1","getLeafColumns","some","col","isFilterActive","column","EVENT_FILTER_CHANGED","column_1","eventService","EVENT_FILTER_OPENED","onFilterOpened","bind","event","source","toggleGroupExpand","getColumnGroupName","getColumnName","setTitle","columnController","getDisplayNameForOriginalColumnGroup","getDisplayNameForColumn","destroyFilters","destroyBeans","clearElement","destroy"],"mappings":"AAAA,IAAIA,SAAS,GAAI,QAAQ,KAAKA,SAAd,IAA6B,YAAY;AACrD,MAAIC,aAAa,GAAG,UAAUC,CAAV,EAAaC,CAAb,EAAgB;AAChCF,IAAAA,aAAa,GAAGG,MAAM,CAACC,cAAP,IACX;AAAEC,MAAAA,SAAS,EAAE;AAAb,iBAA6BC,KAA7B,IAAsC,UAAUL,CAAV,EAAaC,CAAb,EAAgB;AAAED,MAAAA,CAAC,CAACI,SAAF,GAAcH,CAAd;AAAkB,KAD/D,IAEZ,UAAUD,CAAV,EAAaC,CAAb,EAAgB;AAAE,WAAK,IAAIK,CAAT,IAAcL,CAAd,EAAiB,IAAIA,CAAC,CAACM,cAAF,CAAiBD,CAAjB,CAAJ,EAAyBN,CAAC,CAACM,CAAD,CAAD,GAAOL,CAAC,CAACK,CAAD,CAAR;AAAc,KAF9E;;AAGA,WAAOP,aAAa,CAACC,CAAD,EAAIC,CAAJ,CAApB;AACH,GALD;;AAMA,SAAO,UAAUD,CAAV,EAAaC,CAAb,EAAgB;AACnBF,IAAAA,aAAa,CAACC,CAAD,EAAIC,CAAJ,CAAb;;AACA,aAASO,EAAT,GAAc;AAAE,WAAKC,WAAL,GAAmBT,CAAnB;AAAuB;;AACvCA,IAAAA,CAAC,CAACU,SAAF,GAAcT,CAAC,KAAK,IAAN,GAAaC,MAAM,CAACS,MAAP,CAAcV,CAAd,CAAb,IAAiCO,EAAE,CAACE,SAAH,GAAeT,CAAC,CAACS,SAAjB,EAA4B,IAAIF,EAAJ,EAA7D,CAAd;AACH,GAJD;AAKH,CAZ2C,EAA5C;;AAaA,IAAII,UAAU,GAAI,QAAQ,KAAKA,UAAd,IAA6B,UAAUC,UAAV,EAAsBC,MAAtB,EAA8BC,GAA9B,EAAmCC,IAAnC,EAAyC;AACnF,MAAIC,CAAC,GAAGC,SAAS,CAACC,MAAlB;AAAA,MAA0BC,CAAC,GAAGH,CAAC,GAAG,CAAJ,GAAQH,MAAR,GAAiBE,IAAI,KAAK,IAAT,GAAgBA,IAAI,GAAGd,MAAM,CAACmB,wBAAP,CAAgCP,MAAhC,EAAwCC,GAAxC,CAAvB,GAAsEC,IAArH;AAAA,MAA2HhB,CAA3H;AACA,MAAI,OAAOsB,OAAP,KAAmB,QAAnB,IAA+B,OAAOA,OAAO,CAACC,QAAf,KAA4B,UAA/D,EAA2EH,CAAC,GAAGE,OAAO,CAACC,QAAR,CAAiBV,UAAjB,EAA6BC,MAA7B,EAAqCC,GAArC,EAA0CC,IAA1C,CAAJ,CAA3E,KACK,KAAK,IAAIQ,CAAC,GAAGX,UAAU,CAACM,MAAX,GAAoB,CAAjC,EAAoCK,CAAC,IAAI,CAAzC,EAA4CA,CAAC,EAA7C,EAAiD,IAAIxB,CAAC,GAAGa,UAAU,CAACW,CAAD,CAAlB,EAAuBJ,CAAC,GAAG,CAACH,CAAC,GAAG,CAAJ,GAAQjB,CAAC,CAACoB,CAAD,CAAT,GAAeH,CAAC,GAAG,CAAJ,GAAQjB,CAAC,CAACc,MAAD,EAASC,GAAT,EAAcK,CAAd,CAAT,GAA4BpB,CAAC,CAACc,MAAD,EAASC,GAAT,CAA7C,KAA+DK,CAAnE;AAC7E,SAAOH,CAAC,GAAG,CAAJ,IAASG,CAAT,IAAclB,MAAM,CAACuB,cAAP,CAAsBX,MAAtB,EAA8BC,GAA9B,EAAmCK,CAAnC,CAAd,EAAqDA,CAA5D;AACH,CALD;;AAMA,SAASM,CAAT,EAAYC,gBAAZ,EAA8BC,SAA9B,EAAyCC,MAAzC,EAAiDC,SAAjD,EAA4DC,MAA5D,EAAoEC,mBAApE,EAAyFC,aAAzF,EAAwGC,YAAxG,EAAsHC,WAAtH,QAAyI,yBAAzI;AACA,SAASC,mBAAT,QAAoC,uBAApC;;AACA,IAAIC,wBAAwB;AAAG;AAAe,UAAUC,MAAV,EAAkB;AAC5DxC,EAAAA,SAAS,CAACuC,wBAAD,EAA2BC,MAA3B,CAAT;;AACA,WAASD,wBAAT,CAAkCE,WAAlC,EAA+CC,gBAA/C,EAAiEC,gBAAjE,EAAmFC,KAAnF,EAA0F;AACtF,QAAIC,KAAK,GAAGL,MAAM,CAACM,IAAP,CAAY,IAAZ,KAAqB,IAAjC;;AACAD,IAAAA,KAAK,CAACJ,WAAN,GAAoBA,WAApB;AACAI,IAAAA,KAAK,CAACH,gBAAN,GAAyBA,gBAAzB;AACAG,IAAAA,KAAK,CAACD,KAAN,GAAcA,KAAd;AACAC,IAAAA,KAAK,CAACF,gBAAN,GAAyBA,gBAAzB;AACA,WAAOE,KAAP;AACH;;AACDN,EAAAA,wBAAwB,CAAC3B,SAAzB,CAAmCmC,YAAnC,GAAkD,YAAY;AAC1D,QAAIC,WAAW,GAAG;AACdC,MAAAA,aAAa,EAAE,kBADD;AAEdC,MAAAA,SAAS,EAAE;AAFG,KAAlB;AAIA,SAAKC,WAAL,CAAiBZ,wBAAwB,CAACa,QAA1C,EAAoD;AAAEC,MAAAA,eAAe,EAAEL;AAAnB,KAApD;AACH,GAND;;AAOAT,EAAAA,wBAAwB,CAAC3B,SAAzB,CAAmC0C,IAAnC,GAA0C,YAAY;AAClD,QAAIT,KAAK,GAAG,IAAZ;;AACA,SAAKU,aAAL;AACA,SAAKF,eAAL,CAAqBG,aAArB,CAAmC,SAAnC;;AACA5B,IAAAA,CAAC,CAAC6B,WAAF,CAAc,KAAKJ,eAAL,CAAqBK,MAArB,EAAd,EAA6C,qCAAqC,KAAKd,KAAvF;;AACA,SAAKS,eAAL,CAAqBM,qBAArB,CAA2C,qCAAqC,KAAKf,KAA1C,GAAkD,SAA7F;AACA,SAAKF,gBAAL,CAAsBkB,OAAtB,CAA8B,UAAUC,UAAV,EAAsB;AAChDhB,MAAAA,KAAK,CAACQ,eAAN,CAAsBS,OAAtB,CAA8BD,UAA9B;;AACAA,MAAAA,UAAU,CAACF,qBAAX,CAAiC,sCAAsCd,KAAK,CAACD,KAAN,GAAc,CAApD,IAAyD,SAA1F;AACH,KAHD;AAIA,SAAKmB,0BAAL;AACA,SAAKC,yBAAL;AACH,GAZD;;AAaAzB,EAAAA,wBAAwB,CAAC3B,SAAzB,CAAmC+C,qBAAnC,GAA2D,UAAUM,QAAV,EAAoB;AAC3E,SAAKZ,eAAL,CAAqBM,qBAArB,CAA2CM,QAA3C;AACH,GAFD;;AAGA1B,EAAAA,wBAAwB,CAAC3B,SAAzB,CAAmCsD,cAAnC,GAAoD,YAAY;AAC5D,SAAKxB,gBAAL,CAAsBkB,OAAtB,CAA8B,UAAUC,UAAV,EAAsB;AAChD,UAAIA,UAAU,YAAYtB,wBAA1B,EAAoD;AAChDsB,QAAAA,UAAU,CAACK,cAAX;AACH,OAFD,MAGK;AACDL,QAAAA,UAAU,CAACM,aAAX;AACH;AACJ,KAPD;AAQH,GATD;;AAUA5B,EAAAA,wBAAwB,CAAC3B,SAAzB,CAAmCwD,aAAnC,GAAmD,YAAY;AAC3D,WAAO,KAAK3B,WAAL,YAA4BP,mBAAnC;AACH,GAFD;;AAGAK,EAAAA,wBAAwB,CAAC3B,SAAzB,CAAmCyD,UAAnC,GAAgD,YAAY;AACxD,WAAO,KAAKhB,eAAL,CAAqBgB,UAArB,EAAP;AACH,GAFD;;AAGA9B,EAAAA,wBAAwB,CAAC3B,SAAzB,CAAmC0D,WAAnC,GAAiD,YAAY;AACzD,WAAO,KAAK5B,gBAAZ;AACH,GAFD;;AAGAH,EAAAA,wBAAwB,CAAC3B,SAAzB,CAAmC2D,kBAAnC,GAAwD,YAAY;AAChE,WAAO,KAAKC,eAAL,GAAuB,KAAKA,eAA5B,GAA8C,EAArD;AACH,GAFD;;AAGAjC,EAAAA,wBAAwB,CAAC3B,SAAzB,CAAmC6D,gBAAnC,GAAsD,YAAY;AAC9D,WAAO,KAAKhC,WAAL,CAAiBiC,KAAjB,EAAP;AACH,GAFD;;AAGAnC,EAAAA,wBAAwB,CAAC3B,SAAzB,CAAmC+D,aAAnC,GAAmD,UAAUC,IAAV,EAAgBC,KAAhB,EAAuB;AACtE,SAAKxB,eAAL,CAAqByB,QAArB,CAA8BF,IAA9B,EAAoCC,KAApC;AACH,GAFD;;AAGAtC,EAAAA,wBAAwB,CAAC3B,SAAzB,CAAmCmE,SAAnC,GAA+C,UAAUH,IAAV,EAAgB;AAC3DhD,IAAAA,CAAC,CAACoD,mBAAF,CAAsB,KAAKtB,MAAL,EAAtB,EAAqC,WAArC,EAAkDkB,IAAlD;AACH,GAFD;;AAGArC,EAAAA,wBAAwB,CAAC3B,SAAzB,CAAmCqE,2BAAnC,GAAiE,UAAUC,MAAV,EAAkB;AAC/EtD,IAAAA,CAAC,CAACgC,OAAF,CAAU,KAAKlB,gBAAf,EAAiC,UAAUmB,UAAV,EAAsB;AACnD,UAAIA,UAAU,YAAYvB,mBAA1B,EAA+C;AAC3C4C,QAAAA,MAAM,CAACrB,UAAD,CAAN;AACH;AACJ,KAJD;AAKH,GAND;;AAOAtB,EAAAA,wBAAwB,CAAC3B,SAAzB,CAAmCmD,0BAAnC,GAAgE,YAAY;AACxE,QAAIlB,KAAK,GAAG,IAAZ;;AACA,QAAIsC,cAAc,GAAG,KAAKf,aAAL,KACjB,YAAY;AAAE,aAAOvB,KAAK,CAACF,gBAAN,EAAP;AAAkC,KAD/B,GAEjB,YAAY;AAAE,aAAOE,KAAK,CAACoC,2BAAN,CAAkC,UAAUpB,UAAV,EAAsB;AAAE,eAAOA,UAAU,CAACuB,MAAX,EAAP;AAA6B,OAAvF,CAAP;AAAkG,KAFpH;AAGA,QAAIC,gBAAgB,GAAG,KAAKjB,aAAL,KACnB,YAAY;AAAE,aAAOvB,KAAK,CAACF,gBAAN,EAAP;AAAkC,KAD7B,GAEnB,YAAY;AAAE,aAAOE,KAAK,CAACoC,2BAAN,CAAkC,UAAUpB,UAAV,EAAsB;AAAE,eAAOA,UAAU,CAACyB,QAAX,EAAP;AAA+B,OAAzF,CAAP;AAAoG,KAFtH;AAGA,SAAKC,kBAAL,CAAwB,KAAKlC,eAA7B,EAA8CxB,gBAAgB,CAAC2D,cAA/D,EAA+EL,cAA/E;AACA,SAAKI,kBAAL,CAAwB,KAAKlC,eAA7B,EAA8CxB,gBAAgB,CAAC4D,eAA/D,EAAgFJ,gBAAhF;AACH,GAVD;;AAWA9C,EAAAA,wBAAwB,CAAC3B,SAAzB,CAAmCoD,yBAAnC,GAA+D,YAAY;AACvE,QAAInB,KAAK,GAAG,IAAZ;;AACA,QAAI,KAAKJ,WAAL,YAA4BP,mBAAhC,EAAqD;AACjD,UAAIwD,OAAO,GAAG,KAAKjD,WAAnB;;AACA,UAAIkD,uBAAuB,GAAG,YAAY;AAAE,eAAOD,OAAO,CAACE,cAAR,GAAyBC,IAAzB,CAA8B,UAAUC,GAAV,EAAe;AAAE,iBAAOA,GAAG,CAACC,cAAJ,EAAP;AAA8B,SAA7E,CAAP;AAAwF,OAApI;;AACAL,MAAAA,OAAO,CAACE,cAAR,GAAyBhC,OAAzB,CAAiC,UAAUoC,MAAV,EAAkB;AAC/CnD,QAAAA,KAAK,CAAC0C,kBAAN,CAAyBS,MAAzB,EAAiCjE,MAAM,CAACkE,oBAAxC,EAA8D,YAAY;AACtErE,UAAAA,CAAC,CAACoD,mBAAF,CAAsBnC,KAAK,CAACQ,eAAN,CAAsBK,MAAtB,EAAtB,EAAsD,eAAtD,EAAuEiC,uBAAuB,EAA9F;AACH,SAFD;AAGH,OAJD;AAKH,KARD,MASK;AACD,UAAIO,QAAQ,GAAG,KAAKzD,WAApB;AACA,WAAK8C,kBAAL,CAAwB,KAAKY,YAA7B,EAA2ClE,MAAM,CAACmE,mBAAlD,EAAuE,KAAKC,cAAL,CAAoBC,IAApB,CAAyB,IAAzB,CAAvE;AACA,WAAKf,kBAAL,CAAwBW,QAAxB,EAAkCnE,MAAM,CAACkE,oBAAzC,EAA+D,YAAY;AACvErE,QAAAA,CAAC,CAACoD,mBAAF,CAAsBnC,KAAK,CAACQ,eAAN,CAAsBK,MAAtB,EAAtB,EAAsD,eAAtD,EAAuEwC,QAAQ,CAACH,cAAT,EAAvE;AACH,OAFD;AAGH;AACJ,GAlBD;;AAmBAxD,EAAAA,wBAAwB,CAAC3B,SAAzB,CAAmCyF,cAAnC,GAAoD,UAAUE,KAAV,EAAiB;AACjE;AACA;AACA,QAAIA,KAAK,CAACC,MAAN,KAAiB,aAArB,EAAoC;AAChC;AACH;;AACD,QAAID,KAAK,CAACP,MAAN,KAAiB,KAAKvD,WAA1B,EAAuC;AACnC;AACH;;AACD,QAAI,CAAC,KAAK4B,UAAL,EAAL,EAAwB;AACpB;AACH;;AACD,SAAKiB,QAAL;AACH,GAbD;;AAcA/C,EAAAA,wBAAwB,CAAC3B,SAAzB,CAAmCwE,MAAnC,GAA4C,YAAY;AACpD,SAAK/B,eAAL,CAAqBoD,iBAArB,CAAuC,IAAvC;AACH,GAFD;;AAGAlE,EAAAA,wBAAwB,CAAC3B,SAAzB,CAAmC0E,QAAnC,GAA8C,YAAY;AACtD,SAAKjC,eAAL,CAAqBoD,iBAArB,CAAuC,KAAvC;AACH,GAFD;;AAGAlE,EAAAA,wBAAwB,CAAC3B,SAAzB,CAAmC2C,aAAnC,GAAmD,YAAY;AAC3D,SAAKiB,eAAL,GAAwB,KAAK/B,WAAL,YAA4BP,mBAA7B,GACnB,KAAKwE,kBAAL,CAAwB,KAAKjE,WAA7B,CADmB,GACyB,KAAKkE,aAAL,CAAmB,KAAKlE,WAAxB,CADhD;AAEA,SAAKY,eAAL,CAAqBuD,QAArB,CAA8B,KAAKpC,eAAnC;AACH,GAJD;;AAKAjC,EAAAA,wBAAwB,CAAC3B,SAAzB,CAAmC8F,kBAAnC,GAAwD,UAAUjE,WAAV,EAAuB;AAC3E,WAAO,KAAKoE,gBAAL,CAAsBC,oCAAtB,CAA2D,IAA3D,EAAiErE,WAAjE,EAA8E,WAA9E,CAAP;AACH,GAFD;;AAGAF,EAAAA,wBAAwB,CAAC3B,SAAzB,CAAmC+F,aAAnC,GAAmD,UAAUX,MAAV,EAAkB;AACjE,WAAO,KAAKa,gBAAL,CAAsBE,uBAAtB,CAA8Cf,MAA9C,EAAsD,QAAtD,EAAgE,KAAhE,CAAP;AACH,GAFD;;AAGAzD,EAAAA,wBAAwB,CAAC3B,SAAzB,CAAmCoG,cAAnC,GAAoD,YAAY;AAC5D,SAAKtE,gBAAL,GAAwB,KAAKuE,YAAL,CAAkB,KAAKvE,gBAAvB,CAAxB;;AACAd,IAAAA,CAAC,CAACsF,YAAF,CAAe,KAAKxD,MAAL,EAAf;AACH,GAHD;;AAIAnB,EAAAA,wBAAwB,CAAC3B,SAAzB,CAAmCuG,OAAnC,GAA6C,YAAY;AACrD,SAAKH,cAAL;;AACAxE,IAAAA,MAAM,CAAC5B,SAAP,CAAiBuG,OAAjB,CAAyBrE,IAAzB,CAA8B,IAA9B;AACH,GAHD;;AAIAP,EAAAA,wBAAwB,CAACa,QAAzB,GAAoC,kJAApC;;AACAtC,EAAAA,UAAU,CAAC,CACPuB,WAAW,CAAC,iBAAD,CADJ,CAAD,EAEPE,wBAAwB,CAAC3B,SAFlB,EAE6B,iBAF7B,EAEgD,KAAK,CAFrD,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACPgB,SAAS,CAAC,kBAAD,CADF,CAAD,EAEPS,wBAAwB,CAAC3B,SAFlB,EAE6B,kBAF7B,EAEiD,KAAK,CAFtD,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACPsB,YADO,CAAD,EAEPG,wBAAwB,CAAC3B,SAFlB,EAE6B,cAF7B,EAE6C,IAF7C,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACPqB,aADO,CAAD,EAEPI,wBAAwB,CAAC3B,SAFlB,EAE6B,MAF7B,EAEqC,IAFrC,CAAV;;AAGA,SAAO2B,wBAAP;AACH,CA1J6C,CA0J5CP,SA1J4C,CAA9C;;AA2JA,SAASO,wBAAT","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { _, AgGroupComponent, Autowired, Column, Component, Events, OriginalColumnGroup, PostConstruct, PreConstruct, RefSelector } from \"@ag-grid-community/core\";\nimport { ToolPanelFilterComp } from \"./toolPanelFilterComp\";\nvar ToolPanelFilterGroupComp = /** @class */ (function (_super) {\n    __extends(ToolPanelFilterGroupComp, _super);\n    function ToolPanelFilterGroupComp(columnGroup, childFilterComps, expandedCallback, depth) {\n        var _this = _super.call(this) || this;\n        _this.columnGroup = columnGroup;\n        _this.childFilterComps = childFilterComps;\n        _this.depth = depth;\n        _this.expandedCallback = expandedCallback;\n        return _this;\n    }\n    ToolPanelFilterGroupComp.prototype.preConstruct = function () {\n        var groupParams = {\n            cssIdentifier: 'filter-toolpanel',\n            direction: 'vertical'\n        };\n        this.setTemplate(ToolPanelFilterGroupComp.TEMPLATE, { filterGroupComp: groupParams });\n    };\n    ToolPanelFilterGroupComp.prototype.init = function () {\n        var _this = this;\n        this.setGroupTitle();\n        this.filterGroupComp.setAlignItems('stretch');\n        _.addCssClass(this.filterGroupComp.getGui(), \"ag-filter-toolpanel-group-level-\" + this.depth);\n        this.filterGroupComp.addCssClassToTitleBar(\"ag-filter-toolpanel-group-level-\" + this.depth + \"-header\");\n        this.childFilterComps.forEach(function (filterComp) {\n            _this.filterGroupComp.addItem(filterComp);\n            filterComp.addCssClassToTitleBar(\"ag-filter-toolpanel-group-level-\" + (_this.depth + 1) + \"-header\");\n        });\n        this.addExpandCollapseListeners();\n        this.addFilterChangedListeners();\n    };\n    ToolPanelFilterGroupComp.prototype.addCssClassToTitleBar = function (cssClass) {\n        this.filterGroupComp.addCssClassToTitleBar(cssClass);\n    };\n    ToolPanelFilterGroupComp.prototype.refreshFilters = function () {\n        this.childFilterComps.forEach(function (filterComp) {\n            if (filterComp instanceof ToolPanelFilterGroupComp) {\n                filterComp.refreshFilters();\n            }\n            else {\n                filterComp.refreshFilter();\n            }\n        });\n    };\n    ToolPanelFilterGroupComp.prototype.isColumnGroup = function () {\n        return this.columnGroup instanceof OriginalColumnGroup;\n    };\n    ToolPanelFilterGroupComp.prototype.isExpanded = function () {\n        return this.filterGroupComp.isExpanded();\n    };\n    ToolPanelFilterGroupComp.prototype.getChildren = function () {\n        return this.childFilterComps;\n    };\n    ToolPanelFilterGroupComp.prototype.getFilterGroupName = function () {\n        return this.filterGroupName ? this.filterGroupName : '';\n    };\n    ToolPanelFilterGroupComp.prototype.getFilterGroupId = function () {\n        return this.columnGroup.getId();\n    };\n    ToolPanelFilterGroupComp.prototype.hideGroupItem = function (hide, index) {\n        this.filterGroupComp.hideItem(hide, index);\n    };\n    ToolPanelFilterGroupComp.prototype.hideGroup = function (hide) {\n        _.addOrRemoveCssClass(this.getGui(), 'ag-hidden', hide);\n    };\n    ToolPanelFilterGroupComp.prototype.forEachToolPanelFilterChild = function (action) {\n        _.forEach(this.childFilterComps, function (filterComp) {\n            if (filterComp instanceof ToolPanelFilterComp) {\n                action(filterComp);\n            }\n        });\n    };\n    ToolPanelFilterGroupComp.prototype.addExpandCollapseListeners = function () {\n        var _this = this;\n        var expandListener = this.isColumnGroup() ?\n            function () { return _this.expandedCallback(); } :\n            function () { return _this.forEachToolPanelFilterChild(function (filterComp) { return filterComp.expand(); }); };\n        var collapseListener = this.isColumnGroup() ?\n            function () { return _this.expandedCallback(); } :\n            function () { return _this.forEachToolPanelFilterChild(function (filterComp) { return filterComp.collapse(); }); };\n        this.addManagedListener(this.filterGroupComp, AgGroupComponent.EVENT_EXPANDED, expandListener);\n        this.addManagedListener(this.filterGroupComp, AgGroupComponent.EVENT_COLLAPSED, collapseListener);\n    };\n    ToolPanelFilterGroupComp.prototype.addFilterChangedListeners = function () {\n        var _this = this;\n        if (this.columnGroup instanceof OriginalColumnGroup) {\n            var group_1 = this.columnGroup;\n            var anyChildFiltersActive_1 = function () { return group_1.getLeafColumns().some(function (col) { return col.isFilterActive(); }); };\n            group_1.getLeafColumns().forEach(function (column) {\n                _this.addManagedListener(column, Column.EVENT_FILTER_CHANGED, function () {\n                    _.addOrRemoveCssClass(_this.filterGroupComp.getGui(), 'ag-has-filter', anyChildFiltersActive_1());\n                });\n            });\n        }\n        else {\n            var column_1 = this.columnGroup;\n            this.addManagedListener(this.eventService, Events.EVENT_FILTER_OPENED, this.onFilterOpened.bind(this));\n            this.addManagedListener(column_1, Column.EVENT_FILTER_CHANGED, function () {\n                _.addOrRemoveCssClass(_this.filterGroupComp.getGui(), 'ag-has-filter', column_1.isFilterActive());\n            });\n        }\n    };\n    ToolPanelFilterGroupComp.prototype.onFilterOpened = function (event) {\n        // when a filter is opened elsewhere, i.e. column menu we close the filter comp so we also need to collapse\n        // the column group. This approach means we don't need to try and sync filter models on the same column.\n        if (event.source !== 'COLUMN_MENU') {\n            return;\n        }\n        if (event.column !== this.columnGroup) {\n            return;\n        }\n        if (!this.isExpanded()) {\n            return;\n        }\n        this.collapse();\n    };\n    ToolPanelFilterGroupComp.prototype.expand = function () {\n        this.filterGroupComp.toggleGroupExpand(true);\n    };\n    ToolPanelFilterGroupComp.prototype.collapse = function () {\n        this.filterGroupComp.toggleGroupExpand(false);\n    };\n    ToolPanelFilterGroupComp.prototype.setGroupTitle = function () {\n        this.filterGroupName = (this.columnGroup instanceof OriginalColumnGroup) ?\n            this.getColumnGroupName(this.columnGroup) : this.getColumnName(this.columnGroup);\n        this.filterGroupComp.setTitle(this.filterGroupName);\n    };\n    ToolPanelFilterGroupComp.prototype.getColumnGroupName = function (columnGroup) {\n        return this.columnController.getDisplayNameForOriginalColumnGroup(null, columnGroup, 'toolPanel');\n    };\n    ToolPanelFilterGroupComp.prototype.getColumnName = function (column) {\n        return this.columnController.getDisplayNameForColumn(column, 'header', false);\n    };\n    ToolPanelFilterGroupComp.prototype.destroyFilters = function () {\n        this.childFilterComps = this.destroyBeans(this.childFilterComps);\n        _.clearElement(this.getGui());\n    };\n    ToolPanelFilterGroupComp.prototype.destroy = function () {\n        this.destroyFilters();\n        _super.prototype.destroy.call(this);\n    };\n    ToolPanelFilterGroupComp.TEMPLATE = \"<div class=\\\"ag-filter-toolpanel-group-wrapper\\\">\\n            <ag-group-component ref=\\\"filterGroupComp\\\"></ag-group-component>\\n        </div>\";\n    __decorate([\n        RefSelector('filterGroupComp')\n    ], ToolPanelFilterGroupComp.prototype, \"filterGroupComp\", void 0);\n    __decorate([\n        Autowired('columnController')\n    ], ToolPanelFilterGroupComp.prototype, \"columnController\", void 0);\n    __decorate([\n        PreConstruct\n    ], ToolPanelFilterGroupComp.prototype, \"preConstruct\", null);\n    __decorate([\n        PostConstruct\n    ], ToolPanelFilterGroupComp.prototype, \"init\", null);\n    return ToolPanelFilterGroupComp;\n}(Component));\nexport { ToolPanelFilterGroupComp };\n"]},"metadata":{},"sourceType":"module"}