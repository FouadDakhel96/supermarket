{"ast":null,"code":"/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.2.1\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n    if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nimport { Autowired } from '../context/context';\nimport { RefSelector } from './componentAnnotations';\nimport { ManagedFocusComponent } from './managedFocusComponent';\nimport { Constants } from '../constants';\nimport { _ } from '../utils';\n\nvar VirtualList =\n/** @class */\nfunction (_super) {\n  __extends(VirtualList, _super);\n\n  function VirtualList(cssIdentifier) {\n    if (cssIdentifier === void 0) {\n      cssIdentifier = 'default';\n    }\n\n    var _this = _super.call(this, VirtualList.getTemplate(cssIdentifier)) || this;\n\n    _this.cssIdentifier = cssIdentifier;\n    _this.renderedRows = new Map();\n    _this.rowHeight = 20;\n    return _this;\n  }\n\n  VirtualList.prototype.postConstruct = function () {\n    this.addScrollListener();\n    this.rowHeight = this.getItemHeight();\n\n    _super.prototype.postConstruct.call(this);\n  };\n\n  VirtualList.prototype.isFocusableContainer = function () {\n    return true;\n  };\n\n  VirtualList.prototype.focusInnerElement = function (fromBottom) {\n    var rowCount = this.model.getRowCount();\n    this.focusRow(fromBottom ? rowCount - 1 : 0);\n  };\n\n  VirtualList.prototype.onFocusIn = function (e) {\n    _super.prototype.onFocusIn.call(this, e);\n\n    var target = e.target;\n\n    if (_.containsClass(target, 'ag-virtual-list-item')) {\n      this.lastFocusedRow = parseInt(target.getAttribute('aria-rowindex'), 10) - 1;\n    }\n  };\n\n  VirtualList.prototype.onFocusOut = function (e) {\n    _super.prototype.onFocusOut.call(this, e);\n\n    if (!this.getFocusableElement().contains(e.relatedTarget)) {\n      this.lastFocusedRow = null;\n    }\n  };\n\n  VirtualList.prototype.handleKeyDown = function (e) {\n    switch (e.keyCode) {\n      case Constants.KEY_UP:\n      case Constants.KEY_DOWN:\n      case Constants.KEY_TAB:\n        if (this.navigate(e.keyCode === Constants.KEY_UP || e.keyCode === Constants.KEY_TAB && e.shiftKey)) {\n          e.preventDefault();\n        }\n\n        break;\n    }\n  };\n\n  VirtualList.prototype.navigate = function (up) {\n    if (!_.exists(this.lastFocusedRow)) {\n      return false;\n    }\n\n    var nextRow = this.lastFocusedRow + (up ? -1 : 1);\n\n    if (nextRow < 0 || nextRow >= this.model.getRowCount()) {\n      return false;\n    }\n\n    this.focusRow(nextRow);\n    return true;\n  };\n\n  VirtualList.prototype.getLastFocusedRow = function () {\n    return this.lastFocusedRow;\n  };\n\n  VirtualList.prototype.focusRow = function (rowNumber) {\n    var _this = this;\n\n    this.ensureIndexVisible(rowNumber);\n    window.setTimeout(function () {\n      var renderedRow = _this.renderedRows.get(rowNumber);\n\n      if (renderedRow) {\n        renderedRow.eDiv.focus();\n      }\n    }, 10);\n  };\n\n  VirtualList.prototype.getComponentAt = function (rowIndex) {\n    var comp = this.renderedRows.get(rowIndex);\n    return comp && comp.rowComponent;\n  };\n\n  VirtualList.getTemplate = function (cssIdentifier) {\n    return (\n      /* html */\n      \"\\n            <div class=\\\"ag-virtual-list-viewport ag-\" + cssIdentifier + \"-virtual-list-viewport\\\">\\n                <div class=\\\"ag-virtual-list-container ag-\" + cssIdentifier + \"-virtual-list-container\\\" ref=\\\"eContainer\\\"></div>\\n            </div>\"\n    );\n  };\n\n  VirtualList.prototype.getItemHeight = function () {\n    return this.gridOptionsWrapper.getListItemHeight();\n  };\n\n  VirtualList.prototype.ensureIndexVisible = function (index) {\n    var lastRow = this.model.getRowCount();\n\n    if (typeof index !== 'number' || index < 0 || index >= lastRow) {\n      console.warn('invalid row index for ensureIndexVisible: ' + index);\n      return;\n    }\n\n    var rowTopPixel = index * this.rowHeight;\n    var rowBottomPixel = rowTopPixel + this.rowHeight;\n    var eGui = this.getGui();\n    var viewportTopPixel = eGui.scrollTop;\n    var viewportHeight = eGui.offsetHeight;\n    var viewportBottomPixel = viewportTopPixel + viewportHeight;\n    var viewportScrolledPastRow = viewportTopPixel > rowTopPixel;\n    var viewportScrolledBeforeRow = viewportBottomPixel < rowBottomPixel;\n\n    if (viewportScrolledPastRow) {\n      // if row is before, scroll up with row at top\n      eGui.scrollTop = rowTopPixel;\n    } else if (viewportScrolledBeforeRow) {\n      // if row is below, scroll down with row at bottom\n      var newScrollPosition = rowBottomPixel - viewportHeight;\n      eGui.scrollTop = newScrollPosition;\n    }\n  };\n\n  VirtualList.prototype.setComponentCreator = function (componentCreator) {\n    this.componentCreator = componentCreator;\n  };\n\n  VirtualList.prototype.getRowHeight = function () {\n    return this.rowHeight;\n  };\n\n  VirtualList.prototype.getScrollTop = function () {\n    return this.getGui().scrollTop;\n  };\n\n  VirtualList.prototype.setRowHeight = function (rowHeight) {\n    this.rowHeight = rowHeight;\n    this.refresh();\n  };\n\n  VirtualList.prototype.refresh = function () {\n    var _this = this;\n\n    if (this.model == null) {\n      return;\n    }\n\n    var rowCount = this.model.getRowCount();\n    this.eContainer.style.height = rowCount * this.rowHeight + \"px\";\n    this.eContainer.setAttribute('aria-rowcount', rowCount.toString()); // ensure height is applied before attempting to redraw rows\n\n    setTimeout(function () {\n      _this.clearVirtualRows();\n\n      _this.drawVirtualRows();\n    }, 0);\n  };\n\n  VirtualList.prototype.clearVirtualRows = function () {\n    var _this = this;\n\n    this.renderedRows.forEach(function (_, rowIndex) {\n      return _this.removeRow(rowIndex);\n    });\n  };\n\n  VirtualList.prototype.drawVirtualRows = function () {\n    var gui = this.getGui();\n    var topPixel = gui.scrollTop;\n    var bottomPixel = topPixel + gui.offsetHeight;\n    var firstRow = Math.floor(topPixel / this.rowHeight);\n    var lastRow = Math.floor(bottomPixel / this.rowHeight);\n    this.ensureRowsRendered(firstRow, lastRow);\n  };\n\n  VirtualList.prototype.ensureRowsRendered = function (start, finish) {\n    var _this = this; // remove any rows that are no longer required\n\n\n    this.renderedRows.forEach(function (_, rowIndex) {\n      if ((rowIndex < start || rowIndex > finish) && rowIndex !== _this.lastFocusedRow) {\n        _this.removeRow(rowIndex);\n      }\n    }); // insert any required new rows\n\n    for (var rowIndex = start; rowIndex <= finish; rowIndex++) {\n      if (this.renderedRows.has(rowIndex)) {\n        continue;\n      } // check this row actually exists (in case overflow buffer window exceeds real data)\n\n\n      if (rowIndex < this.model.getRowCount()) {\n        var value = this.model.getRow(rowIndex);\n        this.insertRow(value, rowIndex);\n      }\n    }\n  };\n\n  VirtualList.prototype.insertRow = function (value, rowIndex) {\n    var eDiv = document.createElement('div');\n\n    _.addCssClass(eDiv, 'ag-virtual-list-item');\n\n    _.addCssClass(eDiv, \"ag-\" + this.cssIdentifier + \"-virtual-list-item\");\n\n    eDiv.setAttribute('aria-rowindex', (rowIndex + 1).toString());\n    eDiv.setAttribute('tabindex', '-1');\n    eDiv.style.height = this.rowHeight + \"px\";\n    eDiv.style.top = this.rowHeight * rowIndex + \"px\";\n    var rowComponent = this.componentCreator(value);\n    eDiv.appendChild(rowComponent.getGui());\n    this.eContainer.appendChild(eDiv);\n    this.renderedRows.set(rowIndex, {\n      rowComponent: rowComponent,\n      eDiv: eDiv\n    });\n  };\n\n  VirtualList.prototype.removeRow = function (rowIndex) {\n    var component = this.renderedRows.get(rowIndex);\n    this.eContainer.removeChild(component.eDiv);\n    this.destroyBean(component.rowComponent);\n    this.renderedRows.delete(rowIndex);\n  };\n\n  VirtualList.prototype.addScrollListener = function () {\n    var _this = this;\n\n    this.addGuiEventListener('scroll', function () {\n      return _this.drawVirtualRows();\n    });\n  };\n\n  VirtualList.prototype.setModel = function (model) {\n    this.model = model;\n  };\n\n  __decorate([Autowired('gridOptionsWrapper')], VirtualList.prototype, \"gridOptionsWrapper\", void 0);\n\n  __decorate([RefSelector('eContainer')], VirtualList.prototype, \"eContainer\", void 0);\n\n  return VirtualList;\n}(ManagedFocusComponent);\n\nexport { VirtualList };","map":{"version":3,"sources":["/Users/fouaddakhel/Projects/Nana/ReactJS/supermarket_dashboard/supermarket_dashboard/node_modules/@ag-grid-community/core/dist/es6/widgets/virtualList.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","Autowired","RefSelector","ManagedFocusComponent","Constants","_","VirtualList","_super","cssIdentifier","_this","call","getTemplate","renderedRows","Map","rowHeight","postConstruct","addScrollListener","getItemHeight","isFocusableContainer","focusInnerElement","fromBottom","rowCount","model","getRowCount","focusRow","onFocusIn","e","containsClass","lastFocusedRow","parseInt","getAttribute","onFocusOut","getFocusableElement","contains","relatedTarget","handleKeyDown","keyCode","KEY_UP","KEY_DOWN","KEY_TAB","navigate","shiftKey","preventDefault","up","exists","nextRow","getLastFocusedRow","rowNumber","ensureIndexVisible","window","setTimeout","renderedRow","get","eDiv","focus","getComponentAt","rowIndex","comp","rowComponent","gridOptionsWrapper","getListItemHeight","index","lastRow","console","warn","rowTopPixel","rowBottomPixel","eGui","getGui","viewportTopPixel","scrollTop","viewportHeight","offsetHeight","viewportBottomPixel","viewportScrolledPastRow","viewportScrolledBeforeRow","newScrollPosition","setComponentCreator","componentCreator","getRowHeight","getScrollTop","setRowHeight","refresh","eContainer","style","height","setAttribute","toString","clearVirtualRows","drawVirtualRows","forEach","removeRow","gui","topPixel","bottomPixel","firstRow","Math","floor","ensureRowsRendered","start","finish","has","value","getRow","insertRow","document","createElement","addCssClass","top","appendChild","set","component","removeChild","destroyBean","delete","addGuiEventListener","setModel"],"mappings":"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","sourcesContent":["/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.2.1\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Autowired } from '../context/context';\nimport { RefSelector } from './componentAnnotations';\nimport { ManagedFocusComponent } from './managedFocusComponent';\nimport { Constants } from '../constants';\nimport { _ } from '../utils';\nvar VirtualList = /** @class */ (function (_super) {\n    __extends(VirtualList, _super);\n    function VirtualList(cssIdentifier) {\n        if (cssIdentifier === void 0) { cssIdentifier = 'default'; }\n        var _this = _super.call(this, VirtualList.getTemplate(cssIdentifier)) || this;\n        _this.cssIdentifier = cssIdentifier;\n        _this.renderedRows = new Map();\n        _this.rowHeight = 20;\n        return _this;\n    }\n    VirtualList.prototype.postConstruct = function () {\n        this.addScrollListener();\n        this.rowHeight = this.getItemHeight();\n        _super.prototype.postConstruct.call(this);\n    };\n    VirtualList.prototype.isFocusableContainer = function () {\n        return true;\n    };\n    VirtualList.prototype.focusInnerElement = function (fromBottom) {\n        var rowCount = this.model.getRowCount();\n        this.focusRow(fromBottom ? rowCount - 1 : 0);\n    };\n    VirtualList.prototype.onFocusIn = function (e) {\n        _super.prototype.onFocusIn.call(this, e);\n        var target = e.target;\n        if (_.containsClass(target, 'ag-virtual-list-item')) {\n            this.lastFocusedRow = parseInt(target.getAttribute('aria-rowindex'), 10) - 1;\n        }\n    };\n    VirtualList.prototype.onFocusOut = function (e) {\n        _super.prototype.onFocusOut.call(this, e);\n        if (!this.getFocusableElement().contains(e.relatedTarget)) {\n            this.lastFocusedRow = null;\n        }\n    };\n    VirtualList.prototype.handleKeyDown = function (e) {\n        switch (e.keyCode) {\n            case Constants.KEY_UP:\n            case Constants.KEY_DOWN:\n            case Constants.KEY_TAB:\n                if (this.navigate(e.keyCode === Constants.KEY_UP ||\n                    (e.keyCode === Constants.KEY_TAB && e.shiftKey))) {\n                    e.preventDefault();\n                }\n                break;\n        }\n    };\n    VirtualList.prototype.navigate = function (up) {\n        if (!_.exists(this.lastFocusedRow)) {\n            return false;\n        }\n        var nextRow = this.lastFocusedRow + (up ? -1 : 1);\n        if (nextRow < 0 || nextRow >= this.model.getRowCount()) {\n            return false;\n        }\n        this.focusRow(nextRow);\n        return true;\n    };\n    VirtualList.prototype.getLastFocusedRow = function () {\n        return this.lastFocusedRow;\n    };\n    VirtualList.prototype.focusRow = function (rowNumber) {\n        var _this = this;\n        this.ensureIndexVisible(rowNumber);\n        window.setTimeout(function () {\n            var renderedRow = _this.renderedRows.get(rowNumber);\n            if (renderedRow) {\n                renderedRow.eDiv.focus();\n            }\n        }, 10);\n    };\n    VirtualList.prototype.getComponentAt = function (rowIndex) {\n        var comp = this.renderedRows.get(rowIndex);\n        return comp && comp.rowComponent;\n    };\n    VirtualList.getTemplate = function (cssIdentifier) {\n        return /* html */ \"\\n            <div class=\\\"ag-virtual-list-viewport ag-\" + cssIdentifier + \"-virtual-list-viewport\\\">\\n                <div class=\\\"ag-virtual-list-container ag-\" + cssIdentifier + \"-virtual-list-container\\\" ref=\\\"eContainer\\\"></div>\\n            </div>\";\n    };\n    VirtualList.prototype.getItemHeight = function () {\n        return this.gridOptionsWrapper.getListItemHeight();\n    };\n    VirtualList.prototype.ensureIndexVisible = function (index) {\n        var lastRow = this.model.getRowCount();\n        if (typeof index !== 'number' || index < 0 || index >= lastRow) {\n            console.warn('invalid row index for ensureIndexVisible: ' + index);\n            return;\n        }\n        var rowTopPixel = index * this.rowHeight;\n        var rowBottomPixel = rowTopPixel + this.rowHeight;\n        var eGui = this.getGui();\n        var viewportTopPixel = eGui.scrollTop;\n        var viewportHeight = eGui.offsetHeight;\n        var viewportBottomPixel = viewportTopPixel + viewportHeight;\n        var viewportScrolledPastRow = viewportTopPixel > rowTopPixel;\n        var viewportScrolledBeforeRow = viewportBottomPixel < rowBottomPixel;\n        if (viewportScrolledPastRow) {\n            // if row is before, scroll up with row at top\n            eGui.scrollTop = rowTopPixel;\n        }\n        else if (viewportScrolledBeforeRow) {\n            // if row is below, scroll down with row at bottom\n            var newScrollPosition = rowBottomPixel - viewportHeight;\n            eGui.scrollTop = newScrollPosition;\n        }\n    };\n    VirtualList.prototype.setComponentCreator = function (componentCreator) {\n        this.componentCreator = componentCreator;\n    };\n    VirtualList.prototype.getRowHeight = function () {\n        return this.rowHeight;\n    };\n    VirtualList.prototype.getScrollTop = function () {\n        return this.getGui().scrollTop;\n    };\n    VirtualList.prototype.setRowHeight = function (rowHeight) {\n        this.rowHeight = rowHeight;\n        this.refresh();\n    };\n    VirtualList.prototype.refresh = function () {\n        var _this = this;\n        if (this.model == null) {\n            return;\n        }\n        var rowCount = this.model.getRowCount();\n        this.eContainer.style.height = rowCount * this.rowHeight + \"px\";\n        this.eContainer.setAttribute('aria-rowcount', rowCount.toString());\n        // ensure height is applied before attempting to redraw rows\n        setTimeout(function () {\n            _this.clearVirtualRows();\n            _this.drawVirtualRows();\n        }, 0);\n    };\n    VirtualList.prototype.clearVirtualRows = function () {\n        var _this = this;\n        this.renderedRows.forEach(function (_, rowIndex) { return _this.removeRow(rowIndex); });\n    };\n    VirtualList.prototype.drawVirtualRows = function () {\n        var gui = this.getGui();\n        var topPixel = gui.scrollTop;\n        var bottomPixel = topPixel + gui.offsetHeight;\n        var firstRow = Math.floor(topPixel / this.rowHeight);\n        var lastRow = Math.floor(bottomPixel / this.rowHeight);\n        this.ensureRowsRendered(firstRow, lastRow);\n    };\n    VirtualList.prototype.ensureRowsRendered = function (start, finish) {\n        var _this = this;\n        // remove any rows that are no longer required\n        this.renderedRows.forEach(function (_, rowIndex) {\n            if ((rowIndex < start || rowIndex > finish) && rowIndex !== _this.lastFocusedRow) {\n                _this.removeRow(rowIndex);\n            }\n        });\n        // insert any required new rows\n        for (var rowIndex = start; rowIndex <= finish; rowIndex++) {\n            if (this.renderedRows.has(rowIndex)) {\n                continue;\n            }\n            // check this row actually exists (in case overflow buffer window exceeds real data)\n            if (rowIndex < this.model.getRowCount()) {\n                var value = this.model.getRow(rowIndex);\n                this.insertRow(value, rowIndex);\n            }\n        }\n    };\n    VirtualList.prototype.insertRow = function (value, rowIndex) {\n        var eDiv = document.createElement('div');\n        _.addCssClass(eDiv, 'ag-virtual-list-item');\n        _.addCssClass(eDiv, \"ag-\" + this.cssIdentifier + \"-virtual-list-item\");\n        eDiv.setAttribute('aria-rowindex', (rowIndex + 1).toString());\n        eDiv.setAttribute('tabindex', '-1');\n        eDiv.style.height = this.rowHeight + \"px\";\n        eDiv.style.top = this.rowHeight * rowIndex + \"px\";\n        var rowComponent = this.componentCreator(value);\n        eDiv.appendChild(rowComponent.getGui());\n        this.eContainer.appendChild(eDiv);\n        this.renderedRows.set(rowIndex, { rowComponent: rowComponent, eDiv: eDiv });\n    };\n    VirtualList.prototype.removeRow = function (rowIndex) {\n        var component = this.renderedRows.get(rowIndex);\n        this.eContainer.removeChild(component.eDiv);\n        this.destroyBean(component.rowComponent);\n        this.renderedRows.delete(rowIndex);\n    };\n    VirtualList.prototype.addScrollListener = function () {\n        var _this = this;\n        this.addGuiEventListener('scroll', function () { return _this.drawVirtualRows(); });\n    };\n    VirtualList.prototype.setModel = function (model) {\n        this.model = model;\n    };\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], VirtualList.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        RefSelector('eContainer')\n    ], VirtualList.prototype, \"eContainer\", void 0);\n    return VirtualList;\n}(ManagedFocusComponent));\nexport { VirtualList };\n"]},"metadata":{},"sourceType":"module"}